{"version":3,"sources":["components/offlineDetect.js","components/navigationbar.js","components/Notification.js","components/footer.js","components/carousel.js","serviceWorkerRegistration.js","components/pwa updater.js","page/main.js","components/googleOauth.js","page/login.js","components/customers/foodcontent.js","page/customer/purchase.js","components/listfood.js","page/customer/order.js","helpers/Log.js","settings.js","components/settingsOption.js","components/settingconfiguration/settingConfigure.js","page/settings.js","components/liststore.js","page/customer/restaurant.js","helpers/API.js","components/transaction.js","page/customer/history.js","page/sells/store.js","components/menuoption.js","components/sells/listaddedfood.js","page/sells/menu.js","components/sells/advancedconfig.js","page/sells/advanced.js","page/codeofconduct.js","page/privacy.js","components/signupblock.js","page/signup.js","page/feedback.js","page/sells/newmenu.js","page/sells/newoption.js","page/sells/CustomerServiceComponent/DiskQuota.js","page/sells/CustomerServiceComponent/Subscription.js","page/sells/CustomerServiceComponent/Plan.js","page/sells/service.js","page/sells/test.js","page/sells/viewbooked.js","page/sells/viewdetailedbooking.js","page/customer/QueryComponent/AskGEO.js","page/customer/query.js","page/developerSettings.js","page/customer/profile.js","App.js","reportWebVitals.js","index.js"],"names":["OfflineDetect","polling","url","config","style","textAlign","className","React","Component","Navibar","props","combination","Cookies","getAll","send","push","state","isGoogle","isSells","isLoggedIn","username","searchTerm","handleSearchTermChange","bind","searchProduct","this","location","pathname","indexOf","history","replace","go","e","setState","target","value","toHello","Fragment","Navbar","bg","expand","collapseOnSelect","Brand","href","Toggle","aria-controls","Collapse","id","Nav","Link","NavDropdown","title","Item","as","to","rel","TextField","onChange","label","variant","size","InputProps","endAdornment","IconButton","onClick","cookies","remove","set","path","window","withRouter","Notification","useState","alert","setAlert","alertSentence","setAlertSentence","useEffect","alert1","get","undefined","setTimeout","hidden","Footer","Container","Row","Col","Carousels","Carousel","src","alt","Caption","isLocalhost","Boolean","hostname","match","register","navigator","URL","process","origin","addEventListener","swUrl","fetch","headers","then","response","contentType","status","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","PwaUpdater","showReload","setShowReload","reloadPage","a","serviceWorkerRegistration","waiting","postMessage","type","Snackbar","open","message","anchorOrigin","vertical","horizontal","action","Button","color","Homepage","scrollTo","top","behavior","GoogleOauth","googleCloudPlatformIdActual","responseGoogle","google_response","JSON","stringify","data","method","body","Headers","ok","json","text","res","Error","parse","profileObj","givenName","err","clientId","buttonText","onFailure","hostedDomain","cookiePolicy","Login","loading","setLoading","email","setEmail","passwd","setPasswd","Send","emailRule","search","postFile","fetchInfo","toReturn","postData","loginResponse","document","Spinner","animation","placeholder","required","FoodContent","setTitle","picture","setPicture","price","setPrice","description","setDescription","comment","setComment","useHistory","store","product","Swal","fire","icon","confirmButtonText","allcookies","confirmText","confirm","fetchedData","parsed","dataLayer","ecommerce","event","transaction_id","affiliation","tax","shipping","currency","items","item_name","name","item_id","product_id","item_brand","item_category","item_variant","quantity","qty","html","getData","Figure","Image","width","resizeMode","lg","TextareaAutosize","rows","display","marginLeft","Purchase","params","ListFood","setData","isInitialMount","useRef","showButton","setShowButton","storeId","myJson","i","length","current","map","item","Card","Img","picUrl","Body","Title","Text","Order","GreatLog","msg","toUpperCase","setting","configuration","afterFetch","SettingsOption","SettingConfigure","urlSelected","split","collection","init","selected","getElementById","SubmitURL","str","toSet","_data","replaceAll","localizedMessage","code","Settings","xs","ListStore","Restaurant","API","endpoint","cb","r","Transaction","transaction","setTransaction","api","Update","setNewRate","val","call","rate","LinearProgress","sm","md","flexDirection","total","slice","Date","updated_at","toLocaleTimeString","substring","substr","Grid","container","spacing","justify","direction","alignItems","Rating","parseFloat","rating","Delete","justifyContent","fontSize","fontStyle","Histories","StoreSetting","MenuOption","ListAddedFood","quota","setQuota","remain","showCancelButton","result","isConfirmed","MenuSetting","AdvancedConfig","image","setImage","uploading","setUploading","imageUrl","setImageUrl","setName","subtitle","setSubtitle","postURL","firstFetch","onSubmit","preventDefault","parseInt","evt","reader","FileReader","file","files","onload","upload","formData","FormData","append","readAsDataURL","Advanced","CodeofConduct","toBeReplace","RegExp","titleUrl","innerHTML","ptitle","createElement","textContent","appendChild","updateTime","innerText","Privacy","Signupblock","passwdVerify","token","Signup","Feedback","Form","Group","Label","Control","question","toSend","mode","ToolBar","popupUrl","aria-hidden","MenuConfigurator","NewMenu","NewOption","array","index","node","DiskQuota","exceed_quota","toFixed","Subscription","subscription","plan","disk_quota","promotion_quota","expires_at","Plan","generateECPay","CustomerService","subscriptions","plans","getDiskQuota","getSubscriptions","getPlans","subscriptionsElems","plansElems","faHeadphones","Table","Pusher","require","Echo","broadcaster","wsHost","wsPath","wsPort","REACT_APP_WS_PORT","disableStats","key","forceTLS","authorizer","channel","options","authorize","socketId","callback","axios","Authorization","socket_id","channel_name","SellsTest","transactions","x","IntroJs","start","that","private","listen","prev","permission","requestPermission","Toast","ToastHeader","ToastBody","ButtonGroup","Array","keys","handleRate","data-star","faStar","faTrash","data-intro","requestNotification","transactionsToast","ViewBookedComponent","initState","enqueueSnackbar","useSnackbar","handleWebsockets","newMessage","Object","Viewbooked","maxSnack","ViewDetailedBooking","productName","setProductName","changes","setChanges","itemId","getName","foodName","getInfo","Promise","all","sendStatus","flag","rawData","faTimes","faCheck","faUserCheck","faUserSlash","AskGEO","close","setClose","handleClose","geolocation","getCurrentPosition","geoSuccess","geoError","enableHighAccuracy","pos","fpPromise","FingerprintJS","fp","fingerprint","visitorId","lat","coords","latitude","lng","longitude","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","useStyles","makeStyles","theme","root","flexGrow","paper","padding","margin","maxWidth","height","img","maxHeight","miniIcon","Result","classes","Paper","elevation","Box","green","weight","InfoOutlined","Typography","cursor","gutterBottom","store_id","store_name","component","mb","borderColor","weighted_ratings","readOnly","ratings_avg","ButtonBase","Query","isInitState","term","setTerm","products","setProducts","askOpen","setAskOpen","useLocation","getProductQueryResult","useCallback","q","_term","URLSearchParams","permissions","query","now","resultElems","helperText","fullWidth","InputLabelProps","shrink","TabPanel","children","other","role","p","a11yProps","backgroundColor","palette","background","tabs","borderRight","divider","DeveloperSettings","setValue","Tabs","orientation","newValue","aria-label","Tab","LEVEL","min","max","Profile","userLevel","setUserLevel","phoneErrorText","setPhoneErrorText","phoneInputRef","HTMLInputElement","TWphoneRegex","callFunction","level","phone","CircularProgressWithLabel","position","border","borderRadius","CircularProgress","credit","levelMin","levelMax","left","bottom","right","levelName","Math","round","elem","every","LEV","makeLevel","Alert","severity","inputRef","levelUp","App","ViewBooked","CodeOfConduct","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.862116b6.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Offline} from \"react-detect-offline\";\r\n\r\nimport config from '../config.json'\r\n\r\nclass OfflineDetect extends React.Component{\r\n    render(){\r\n        const polling = {url: config['docRoot']+'status.json'}\r\n        return(\r\n            <Offline polling={polling}>\r\n                <p style={{textAlign: 'center'}} className=\"p-3 mb-2 bg-danger text-white\">離線中，請檢察您的連線狀況</p>\r\n            </Offline>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OfflineDetect","import React from 'react'\r\n\r\nimport {Nav, Navbar, NavDropdown} from 'react-bootstrap'\r\n\r\nimport Cookies from 'universal-cookie'\r\nimport {Link, withRouter} from \"react-router-dom\";\r\nimport {IconButton, TextField} from \"@material-ui/core\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nclass Navibar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const cookies = new Cookies()\r\n        const combination = cookies.getAll()\r\n        let send = []\r\n        combination['isGoogle'] ? send.push(true) : send.push(false)\r\n        combination['isSells'] ? send.push(true) : send.push(false)\r\n        combination['session'] ? send.push(true) : send.push(false)\r\n        this.state = {\r\n            isGoogle: send[0],\r\n            isSells: send[1],\r\n            isLoggedIn: send[2],//!cookies.get('loggedin') || true\r\n            username: combination['userName'] || \"Anonymous\",\r\n            searchTerm: \"\"\r\n        }\r\n        this.handleSearchTermChange = this.handleSearchTermChange.bind(this)\r\n        this.searchProduct = this.searchProduct.bind(this)\r\n    }\r\n\r\n    searchProduct() {\r\n        if (this.props.location.pathname.indexOf('query') > -1) {\r\n            this.props.history.replace('/query?q=' + this.state.searchTerm)\r\n            this.props.history.go(0)\r\n        } else {\r\n            this.props.history.push('/query?q=' + this.state.searchTerm)\r\n        }\r\n\r\n    }\r\n\r\n    handleSearchTermChange(e) {\r\n        this.setState({\r\n            searchTerm: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const signOut = () => {\r\n            //normal account signout\r\n            //window.alert('logging out')\r\n            //remove cookie\r\n            const cookies = new Cookies()\r\n            cookies.remove('id')\r\n            cookies.remove('isGoogle')\r\n            cookies.remove('isSells')\r\n            cookies.remove('session')\r\n            cookies.remove('userName')\r\n            cookies.remove('storeId')\r\n            cookies.remove('name')\r\n            cookies.set('alert','登出成功',{path: '/'})\r\n            //reload page\r\n            window.location.href = '/'\r\n        }\r\n        const toHello = \"嗨! \"+this.state.username\r\n        return(\r\n            <React.Fragment>\r\n                <Navbar bg=\"light\" expand=\"lg\" collapseOnSelect={true}>\r\n                    <Navbar.Brand href=\"/\">美廣訂餐系統</Navbar.Brand>\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <Nav className=\"mr-auto\">\r\n                            <Nav.Link href=\"#/restaurant\">餐廳</Nav.Link>\r\n                            {this.state.isSells && <NavDropdown title=\"商家管理\" id=\"basic-nav-dropdown\">\r\n                                <NavDropdown.Item href=\"#/config/menu\">菜單設定</NavDropdown.Item>\r\n                                <NavDropdown.Item as={Link} to=\"/service\">客服服務</NavDropdown.Item>\r\n                                <NavDropdown.Item as={Link} to=\"/booked\">出餐</NavDropdown.Item>\r\n                            </NavDropdown>}\r\n                            <NavDropdown title=\"相關連結\" id=\"basic-nav-dropdown\">\r\n                                <NavDropdown.Item href=\"https://sites.google.com/view/tnfshsu/\"\r\n                                                  rel=\"noreferrer noopener\" target=\"_blank\">學聯會</NavDropdown.Item>\r\n                                <NavDropdown.Item href=\"https://tnfsacec.github.io\" rel=\"noreferrer noopener\"\r\n                                                  target=\"_blank\">選委會</NavDropdown.Item>\r\n                            </NavDropdown>\r\n                            <TextField value={this.state.searchTerm} onChange={this.handleSearchTermChange} id=\"term\"\r\n                                       label=\"搜尋想吃的\" variant=\"outlined\" size=\"small\"\r\n                                       InputProps={{\r\n                                           endAdornment:\r\n                                               (<IconButton onClick={this.searchProduct}>\r\n                                                   <SearchIcon/>\r\n                                               </IconButton>)\r\n                                       }}/>\r\n                        </Nav>\r\n                        {this.state.isLoggedIn ? <NavDropdown title={toHello} id=\"basic-nav-dropdown\">\r\n                                <NavDropdown.Item href=\"#/history\">歷史紀錄</NavDropdown.Item>\r\n                                <NavDropdown.Item href=\"#/settings\">設定</NavDropdown.Item>\r\n                                <NavDropdown.Item href=\"#/profile\">個人檔案</NavDropdown.Item>\r\n                                <NavDropdown.Item onClick={signOut}>登出</NavDropdown.Item>\r\n                            </NavDropdown>\r\n                            :\r\n                            <Nav>\r\n                                <Nav.Link href=\"#/signup\">註冊</Nav.Link>\r\n                                <Nav.Link href=\"#/login\">登入</Nav.Link>\r\n                            </Nav>}\r\n                    </Navbar.Collapse>\r\n                </Navbar>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Navibar)","import React,{useState,useEffect} from 'react'\r\n\r\nimport Cookies from \"universal-cookie\";\r\n\r\nexport default function Notification(props){\r\n    const cookies = new Cookies()\r\n\r\n    const [alert,setAlert] = useState(false)\r\n    const [alertSentence,setAlertSentence] = useState('')\r\n\r\n    // eslint-disable-next-line\r\n    useEffect(()=>{\r\n        const alert1 = cookies.get('alert')\r\n        if(alert1 !== undefined){\r\n            setAlert(true)\r\n            setAlertSentence(alert1)\r\n            setTimeout(() => {\r\n                cookies.remove('alert')\r\n                setAlert(false)\r\n            },3000)\r\n        }\r\n    })\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <p className=\"p-3 mb-2 bg-success text-white\" hidden={!alert}>\r\n                {alertSentence}\r\n            </p>\r\n        </React.Fragment>\r\n    )\r\n}","import React from 'react'\nimport {Col, Container, Row} from \"react-bootstrap\";\nimport {Link} from \"react-router-dom\";\nimport config from \"../config.json\";\n\nclass Footer extends React.Component {\n    render() {\n        return (\n            <React.Fragment>\n                <br/>\n                <div className={\"p-3 mb-2 bg-dark text-white \"}>\n                    <Container>\n                        <br/>\n                        <Row>\n                            <Col>\n                                <Link to=\"/privacy\">隱私權聲明</Link><br/>\n                                <Link to=\"/COC\">行為準則</Link><br/>\n                                <Link to=\"/feedback\">意見反饋</Link>\n                            </Col>\n                            <Col>\n                                關於我們：<br />\n                                <a href='https://sivir.pw' rel=\"noreferrer noopener\" target='_blank'>Milliax</a>、\n                                <a href='https://hsuan.app/' rel=\"noreferrer noopener\" target='_blank'>Hsuan1117</a>、\n                                <a href='https://neodoggy.github.io/' rel=\"noreferrer noopener\"\n                                   target='_blank'>Neodoggy</a>\n                                <br/>\n                                <br/>\n                                <span>version: {config['version']}</span>\n                            </Col>\n                        </Row>\n                    </Container>\n                </div>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default Footer","import React from 'react'\r\n\r\nimport Carousel from 'react-bootstrap/Carousel'\r\n\r\nclass Carousels extends React.Component{\r\n    render(){\r\n        return(\r\n            <Carousel>\r\n                <Carousel.Item>\r\n                    <img\r\n                        className=\"d-block w-100\"\r\n                        src=\"https://media.wired.com/photos/598e35fb99d76447c4eb1f28/master/pass/phonepicutres-TA.jpg\"\r\n                        alt=\"First slide\"\r\n                    />\r\n                    <Carousel.Caption>\r\n                        <h3>First slide label</h3>\r\n                        <p>對不起我盜圖</p>\r\n                    </Carousel.Caption>\r\n                </Carousel.Item>\r\n                <Carousel.Item>\r\n                    <img\r\n                        className=\"d-block w-100\"\r\n                        src=\"https://media.wired.com/photos/598e35fb99d76447c4eb1f28/master/pass/phonepicutres-TA.jpg\"\r\n                        alt=\"Second slide\"\r\n                    />\r\n                    <Carousel.Caption>\r\n                        <h3>Second slide label</h3>\r\n                        <p>對不起我盜圖</p>\r\n                    </Carousel.Caption>\r\n                </Carousel.Item>\r\n                <Carousel.Item>\r\n                    <img\r\n                        className=\"d-block w-100\"\r\n                        src=\"https://media.wired.com/photos/598e35fb99d76447c4eb1f28/master/pass/phonepicutres-TA.jpg\"\r\n                        alt=\"Third slide\"\r\n                    />\r\n                    <Carousel.Caption>\r\n                        <h3>Third slide label</h3>\r\n                        <p>對不起我盜圖</p>\r\n                    </Carousel.Caption>\r\n                </Carousel.Item>\r\n            </Carousel>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Carousels","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, {useEffect, useState} from 'react'\r\nimport { Snackbar, Button } from '@material-ui/core';\r\nimport * as serviceWorkerRegistration from '../serviceWorkerRegistration';\r\n\r\nexport default function PwaUpdater(){\r\n    const [showReload, setShowReload] = useState(false)\r\n    //const [waitingWorker, setWaitingWorker] = useState<ServiceWorker | null>(null)\r\n\r\n    const onSWUpdate = () => {\r\n        serviceWorkerRegistration.register({\r\n            onUpdate: registration =>{\r\n                window.alert('發現新版本！！！ 點此立即更新')\r\n                if(registration && registration.waiting){\r\n                    registration.waiting.postMessage({type: 'SKIP_WAITING'})\r\n                }\r\n                window.location.reload()\r\n            }\r\n        });\r\n    }\r\n    async function reloadPage (){\r\n        await serviceWorkerRegistration.register({})\r\n        setShowReload(false)\r\n        window.location.reload(true)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        onSWUpdate()\r\n    },[])\r\n\r\n    return(\r\n        <Snackbar\r\n            open={showReload}\r\n            message=\"A new version is available!\"\r\n            onClick={reloadPage}\r\n            anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n            action={\r\n                <Button\r\n                    color=\"inherit\"\r\n                    size=\"small\"\r\n                    onClick={reloadPage}\r\n                >\r\n                    Reload\r\n                </Button>\r\n            }\r\n        />\r\n    )\r\n}","import React from 'react'\nimport Carousels from '../components/carousel'\nimport PWAUpdater from '../components/pwa updater'\n\n\nimport {\n    Container,\n    //Button\n} from 'react-bootstrap'\n//import {API} from \"../helpers/API\";\n\nclass Homepage extends React.Component {\n    componentDidMount() {\n        window.scrollTo({top: 0, behavior: 'smooth'})\n    }\n\n    /*Test(){\n        console.log(1)\n        let api = new API()\n        api.call('/stores',{},(r)=>{\n            console.log(r)\n        })\n    }*/\n\n    render() {\n        return (\n            <React.Fragment>\n                <Container>\n                    <PWAUpdater/>\n                    {/*<Picture />*/}\n                    <Carousels/>\n                    {/*<Button onClick={this.Test}>Test</Button>*/}\n                </Container>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default Homepage\n","import React from 'react'\r\n\r\nimport GoogleLogin from 'react-google-login'\r\nimport Cookies from 'universal-cookie'\r\nimport config from '../config.json'\r\n\r\nclass GoogleOauth extends React.Component {\r\n    render() {\r\n        const googleCloudPlatformIdActual = config['googleCloudPlatformId'] + \".apps.googleusercontent.com\"\r\n        const responseGoogle = (google_response) => {\r\n            console.log(JSON.stringify(google_response))\r\n            // send request to backend\r\n            let data = {\r\n                'token': google_response['accessToken'],\r\n            }\r\n\r\n            const url = process.env.REACT_APP_API_ENDPOINT + '/google'\r\n            fetch(url, {\r\n                method: 'POST',\r\n                body: JSON.stringify(data),\r\n                headers: new Headers({\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                })\r\n            }).then(response => {\r\n                if (response.ok) {\r\n                    return response.json()\r\n                }\r\n                return response.text().then(res => {\r\n                    throw new Error(res)\r\n                })\r\n            }).catch((error) => {\r\n                console.log(error.message)\r\n                let response = JSON.parse(error.message)\r\n                window.alert(\r\n                    `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\r\n                )\r\n            }).then((response) => {\r\n                // add cookies\r\n                if(google_response['profileObj']['givenName'] === undefined){\r\n                    return\r\n                }\r\n                const cookies = new Cookies()\r\n                cookies.set('session', response['access_token'], {path: '/'})\r\n                cookies.set('isGoogle', 'true', {path: '/'})\r\n                cookies.set('alert', '登入成功', {path: '/'})\r\n                cookies.set('userName', google_response?.profileObj?.givenName, {path: '/'})\r\n\r\n                window.location.replace('/')\r\n            }).catch(err=>{\r\n                console.log(`Failed: ${err}`)\r\n            })\r\n        };\r\n        return (\r\n            <>\r\n                <GoogleLogin\r\n                    clientId={googleCloudPlatformIdActual}\r\n                    buttonText=\"使用 Google 登入\"\r\n                    onSuccess={responseGoogle}\r\n                    onFailure={responseGoogle}\r\n                    hostedDomain={config['gmailSuffix']}\r\n                    cookiePolicy={\"single_host_origin\"}\r\n                    //uxMode={\"redirect\"}\r\n                    //redirectUri={config['project']}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GoogleOauth\r\n","import React,{useEffect,useState} from 'react'\n//import Signinblock from \"../components/signinblock\";\nimport {Col, Container, Row, Spinner} from \"react-bootstrap\";\nimport GoogleOauth from \"../components/googleOauth\";\nimport Cookies from \"universal-cookie\";\nimport {Link} from 'react-router-dom'\n\nexport default function Login(){\n    const cookies = new Cookies()\n    const [loading,setLoading] = useState(false)\n    const [email,setEmail] = useState('')\n    const [passwd,setPasswd] = useState('')\n\n    const Send = async ()=>{\n        let emailRule = /^\\w+((-\\w+)|(\\.\\w+))*@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/\n        //validate ok or not\n        if (email.search(emailRule) === -1) {\n            return\n        }\n        setLoading(true)\n        const response = await postFile()\n        console.log(response)\n        if(response['status'] !== 'error'){\n            await fetchInfo(response)\n        }\n        setLoading(false)\n    }\n\n    const postFile = async ()=>{\n        let toReturn = {}\n        try{\n            let postData = {\n                'email': email,\n                'password': passwd,\n            }\n\n            let url = process.env.REACT_APP_API_ENDPOINT + '/login'\n            const data = await fetch(url,{\n                method: 'POST',\n                body: JSON.stringify(postData),\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                }\n            })\n            const response = await data.json()\n            toReturn = response\n            if(response['status'] !== 'error'){\n                const cookies = new Cookies()\n                cookies.set('session', response['access_token'], {path: '/'})\n                cookies.set('alert', '登入成功', {path: '/'})\n            }else{\n                window.alert('帳號或密碼錯誤')\n            }\n\n        }catch(err){\n            window.alert(\n                `伺服器存取錯誤：${err}`)\n        }\n        return toReturn\n    }\n\n    async function fetchInfo(loginResponse){\n        const url = process.env.REACT_APP_API_ENDPOINT + '/me'\n        try{\n            const data = await fetch(url,{\n                method: 'GET',\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Authorization\": `Bearer ${loginResponse['access_token']}`\n                }\n            })\n            const response = await data.json()\n\n            cookies.set('userName', response['name'], {path: '/'})\n            cookies.set('id', response['id'], {path: '/'})\n            cookies.set('isSells', true, {path: '/'})\n            if (response['stores'][0] !== undefined) {\n                cookies.set('storeId', response['stores'][0]['id'], {path: '/'})\n            }\n            document.location.href = '/'\n        }catch(err){\n            window.alert(\n`意外的錯誤：${err}`)\n        }\n    }\n\n    useEffect(()=>{\n       window.scrollTo({top: 0, behavior: 'smooth'})\n    },[])\n\n    return(\n        <React.Fragment>\n            <Container>\n                <form className={\"signInBlock\"}>\n                    <h3 style={{textAlign: 'center'}} className={\"p-2\"}>登入</h3>\n                    <center hidden={!loading}>\n                        <Spinner animation={\"border\"} />\n                    </center>\n\n                    <div className=\"form-group\">\n                        <label>電子郵件</label>\n                        <input type=\"email\"\n                               className=\"form-control\"\n                               placeholder=\"Enter email\"\n                               value={email}\n                               onChange={e =>{setEmail(e.target.value)}}\n                               required />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>密碼</label>\n                        <input type=\"password\"\n                               className=\"form-control\"\n                               placeholder=\"Enter password\"\n                               value={passwd}\n                               onChange={e => {setPasswd(e.target.value)}}\n                               required />\n                    </div>\n                    <Row>\n                        <Col/>\n                        <Col/>\n                        <Col><Link className=\"btn btn-primary btn-block\" onClick={Send}>Submit</Link></Col>\n                    </Row>\n                    <hr/>\n                    <label>其他登入方式？</label>\n                    <div className={\"otherLoginMethod\"}>\n                        <GoogleOauth/>\n                    </div>\n                </form>\n            </Container>\n        </React.Fragment>\n    )\n}\n","import React, {useEffect, useState} from 'react'\r\nimport {Button, Col, Container, Figure, Row} from 'react-bootstrap'\r\nimport {useHistory} from 'react-router-dom'\r\nimport Cookies from 'universal-cookie'\r\nimport Swal from 'sweetalert2'\r\nimport {TextareaAutosize} from \"@material-ui/core\";\r\n\r\nexport default function FoodContent(props) {\r\n    const [title, setTitle] = useState('')\r\n    const [picture, setPicture] = useState('')\r\n    const [price, setPrice] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [comment, setComment] = useState('')\r\n    const history = useHistory()\r\n    const URL = process.env.REACT_APP_API_ENDPOINT + '/stores/' + props.store + '/products/' + props.product;\r\n\r\n    async function getData() {\r\n        fetch(URL, {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n            }\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                return response.json()\r\n            }\r\n            return response.text().then(err => {\r\n                throw new Error(err)\r\n            })\r\n        }).then(response => {\r\n            //console.log(response)\r\n            setPrice(response['price'])\r\n            setDescription(response['description'])\r\n            setTitle(response['name'])\r\n            setPicture(response['image'])\r\n        }).catch(error => {\r\n            //console.log(error.message)\r\n            let response = JSON.parse(error.message)\r\n            Swal.fire({\r\n                title: '錯誤!',\r\n                text: `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`,\r\n                icon: 'error',\r\n                confirmButtonText: 'Ok'\r\n            }).then(() => history.push('/'))\r\n        })\r\n    }\r\n\r\n    const cookies = new Cookies()\r\n    const allcookies = cookies.getAll()\r\n\r\n    async function Send() {\r\n        const confirmText =\r\n`請確認您的訂購資訊\r\n名稱：${title}\r\n售價：${price}\r\n其他建議：${comment}\r\n按 OK 送出；cancel 取消`\r\n        if (window.confirm(confirmText)) {\r\n            //window.alert('Ok')\r\n            // send transaction\r\n            try {\r\n                const url = process.env.REACT_APP_API_ENDPOINT + '/transactions'\r\n                const fetchedData = await fetch(url, {\r\n                    method: 'POST',\r\n                    body: JSON.stringify({\r\n                        \"name\": title,\r\n                        \"qty\": 1,\r\n                        \"store_id\": props.store,\r\n                        \"product_id\": props.product,\r\n                        \"comment\": comment,\r\n                        \"options\": {}\r\n                    }),\r\n                    headers: {\r\n                        \"Accept\": \"application/json\",\r\n                        \"Content-Type\": \"application/json\",\r\n                        \"Authorization\": `Bearer ${allcookies['session']}`\r\n                    }\r\n                })\r\n                const parsed = await fetchedData.json()\r\n                console.log(parsed)\r\n                if (fetchedData.ok) {\r\n                    window.dataLayer.push({ecommerce: null});\r\n                    window.dataLayer.push({\r\n                        event: \"purchase\",\r\n                        ecommerce: {\r\n                            transaction_id: parsed.id,\r\n                            affiliation: \"Lunch Web\",\r\n                            value: \"59.89\",\r\n                            tax: \"0\",\r\n                            shipping: \"0\",\r\n                            currency: \"TWD\",\r\n                            items: [{\r\n                                item_name: parsed.product.name,\r\n                                item_id: parsed.product_id,\r\n                                price: parsed.product.price,\r\n                                item_brand: parsed.product.store.name,\r\n                                item_category: \"None\",\r\n                                item_variant: \"\",\r\n                                quantity: parsed.qty\r\n                            }]\r\n                        }\r\n                    });\r\n                    Swal.fire({\r\n                        title: '訂購成功!',\r\n                        html: (\r\n                            `感謝您利用本系統訂購產品<br>` +\r\n                            `請記得於選取時間取餐，謝謝<br>` +\r\n                            `您的交易ID為： <b>${parsed.id}</b>`),\r\n                        icon: 'success',\r\n                        confirmButtonText: 'Ok'\r\n                    }).then(() => {\r\n                        document.location.href = '/'\r\n                    })\r\n                } else {\r\n                    throw await fetchedData.text()\r\n                }\r\n            } catch (err) {\r\n                Swal.fire({\r\n                    title: '錯誤!',\r\n                    text: `${err}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員\\n訂單未成立`,\r\n                    icon: 'error',\r\n                    confirmButtonText: 'Ok'\r\n                }).then(() => {\r\n                    document.location.href = '/'\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getData()\r\n        const isSells = cookies.get('isSells')\r\n        const session = cookies.get('session')\r\n\r\n        if(session === undefined){\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: '請先登入',\r\n            }).then(() =>{\r\n                document.location.href = '/'\r\n            })\r\n        }\r\n        if(isSells === 'true'){\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: '此功能商家無法使用',\r\n            }).then(() =>{\r\n                document.location.href = '/'\r\n            })\r\n        }\r\n        // eslint-disable-next-line\r\n    },[])\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Container>\r\n                <br/>\r\n                <Row>\r\n                    <Col>\r\n                        <Figure>\r\n                            <Figure.Caption className={\"text-center\"}>\r\n                                <h1>餐點：{title}</h1>\r\n                            </Figure.Caption>\r\n                            <Figure.Image\r\n                                width={300}\r\n                                alt=\"餐點的照片\"\r\n                                src={process.env.REACT_APP_API_HOST + '/' + picture}\r\n                                resizeMode=\"contain\"\r\n                            />\r\n                        </Figure>\r\n                    </Col>\r\n                    <Col>描述：{description}</Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                    <Col>\r\n                        <h5>建議售價：{price}</h5>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col lg={10}>\r\n                        <TextareaAutosize className=\"form-control\" placeholder=\"留言\" rows=\"5\"\r\n                                          onChange={event => setComment(event.target.value)}\r\n                                          value={comment}/>\r\n                    </Col>\r\n                    <Col lg={3}>\r\n                        <br />\r\n                        <div style={{display: \"flex\"}}>\r\n                            <div style={{marginLeft: \"auto\"}}>\r\n                                <Button variant=\"primary\" onClick={Send}>訂購</Button>\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n            </Container>\r\n        </React.Fragment>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport FoodContent from '../../components/customers/foodcontent'\r\n\r\nclass Purchase extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>訂餐</h1>\r\n                {/*餐點內容*/}\r\n                <FoodContent store={this.props.match.params.store} product={this.props.match.params.product}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Purchase","import React, {useEffect, useRef, useState} from 'react'\n\nimport {Button, Card, Spinner} from 'react-bootstrap'\nimport {Link, useHistory} from \"react-router-dom\";\nimport Cookies from 'universal-cookie'\n\nfunction ListFood(props) {\n    const [data, setData] = useState([])\n    const [loading, setLoading] = useState(false)\n    const history = useHistory();\n    const isInitialMount = useRef(true);\n    const [showButton,setShowButton] = useState(false)\n    const cookies = new Cookies()\n    const allcookies = cookies.getAll()\n\n    async function getData() {\n        setLoading(true)\n        const url = process.env.REACT_APP_API_ENDPOINT + \"/stores/\" + props.storeId + '/products'\n        fetch(url, {\n            method: 'GET',\n            headers:{\n                'Accept': 'application/json'\n            }\n        }).then(response => {\n            if (response.ok) {\n                return response.json()\n            }\n            return response.text().then(res => {\n                throw new Error(res)\n            })\n        }).catch((error) => {\n            console.log(error.message)\n            let response = JSON.parse(error.message)\n            window.alert(\n                `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\n            )\n            history.push('/login')\n        }).then(myJson => {\n            console.log(myJson)\n            for (let i = 0; i < myJson.length; ++i) {\n                myJson[i]['storeId'] = props.storeId\n            }\n            setData(myJson)\n            setLoading(false)\n            if(allcookies['session'] !== undefined){\n                setShowButton(true)\n            }\n        })\n    }\n\n    useEffect(() => {\n        if (isInitialMount.current) {\n            isInitialMount.current = false;\n            getData()\n        }\n    })\n    return (\n        <div className=\"ListStore\">\n            <center><Spinner animation={'border'} hidden={!loading}/></center>\n            {\n                data && (data.length > 0 ? data.map((item) =>\n                    <Card key={item.id}>\n                        <Card.Img variant=\"top\" src={item.picUrl}/>\n                        <Card.Body style={{display: \"flex\"}}>\n                            <div>\n                                <Card.Title>{item.name}</Card.Title>\n                                <Card.Text>{item.description}</Card.Text>\n                            </div>\n                            <div style={{marginLeft: \"auto\"}}>\n                                <Button variant=\"primary\" as={Link} hidden={!showButton}\n                                        to={{pathname: `/purchase/${item.storeId}/${item.id}`}}>立即訂購</Button>\n                            </div>\n                        </Card.Body>\n                    </Card>\n                ) : <React.Fragment><br/><h2 style={{textAlign: 'center'}}>查無資料</h2></React.Fragment>)\n            }\n        </div>\n    )\n}\n\nexport default ListFood","import React from 'react'\r\nimport {Container} from 'react-bootstrap'\r\nimport ListFood from '../../components/listfood'\r\n\r\nclass Order extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0, behavior: 'smooth'})\r\n        console.log(this.props.match.params)\r\n    }\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>吃什麼</h1>\r\n                <Container>\r\n                    <ListFood storeId={this.props.match.params.storeId}/>\r\n                </Container>\r\n\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Order","export function GreatLog(type, msg) {\n    console.log(`[${type.toUpperCase()}] ${msg}\"`)\n}","import Cookies from \"universal-cookie/lib\";\nimport {GreatLog} from \"./helpers/Log\";\n\nconst cookies = new Cookies();\n\nexport const setting = [\n    {\n        \"name\": \"啟動商店功能\",\n        \"url\": \"/settings/activate\"\n        //what to do\n\n    },\n    {\n        \"name\": \"變更商店名\",\n        \"url\": \"/settings/change_name\"\n    },\n    {\n        \"name\": \"變更密碼\",\n        \"url\": \"/settings/change_password\"\n    }\n]\n\nexport const configuration = {\n    \"change_name\": {\n        \"title\": \"變更商店名\",\n        \"hint\": \"請輸入商店名\",\n        \"placeholder\": \"新商店名\",\n        \"submitUri\": process.env.REACT_APP_API_ENDPOINT + '/stores/:id',\n        \"method\": \"PUT\",\n        \"return\": [\"name\"],\n        \"params\": {\n            id: 'cookies:storeId'\n        },\n        afterFetch(res) {\n            GreatLog('debug', res.id)\n            cookies.set('storeId', res.id)\n        }\n    },\n    \"change_password\": {\n        \"title\": \"變更密碼\",\n        \"hint\": \"請輸入新密碼\",\n        \"placeholder\": \"新密碼\",\n        \"submitUri\": process.env.REACT_APP_API_ENDPOINT + '/change_password',\n        \"method\": \"POST\",\n        \"return\": [\"newpassword\"]\n    },\n    \"activate\": {\n        \"title\": \"啟動商店功能\",\n        \"hint\": \"請輸入商店名\",\n        \"placeholder\": \"商店名\",\n        \"submitUri\": process.env.REACT_APP_API_ENDPOINT + '/stores',\n        \"method\": \"POST\",\n        \"return\": [\"name\"],\n        afterFetch(res) {\n            GreatLog('debug', res.id)\n            cookies.set('storeId', res.id)\n        }\n    }\n}","import React from 'react'\nimport {\n    Link,\n} from 'react-router-dom'\nimport {Card} from \"react-bootstrap\";\nimport {setting} from '../settings.js'\n\n\nfunction SettingsOption(){\n    return(\n        setting.map((item)=>\n            <Card>\n                <Card.Body style={{display:\"flex\"}}>\n                    <div>\n                        <Link to={item.url}>{item.name}</Link>\n                    </div>\n                </Card.Body>\n            </Card>\n        )\n    )\n}\n\n\n\nexport default SettingsOption","import React from 'react'\n\nimport {configuration} from \"../../settings\";\nimport Cookies from \"universal-cookie\";\nimport {withRouter} from \"react-router-dom\"\nimport Swal from \"sweetalert2\";\n\nclass SettingConfigure extends React.Component {\n\n    render() {\n        const browserUrl = document.location.href\n        const splitUrl = browserUrl.split('/')\n        const urlSelected = splitUrl[5]\n\n        const Send = () => {\n            const cookies = new Cookies()\n            const collection = cookies.getAll()\n            if (!collection['session']) {\n                window.alert(`Session expired`)\n                document.location.replace('/')\n            }\n            let init = {\n                method: configuration[urlSelected]['method'],\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Authorization\": `Bearer ${collection['session']}`,\n                    \"Content-Type\": \"application/json\"\n                }\n            }\n            if (configuration[urlSelected]['method'] === 'POST' || configuration[urlSelected]['method'] === 'PUT') {\n                let data = {}\n                for (let i = 0; i < configuration[urlSelected]['return'].length; ++i) {\n                    let selected = document.getElementById('userInput')\n                    data[configuration[urlSelected][\"return\"][i]] = selected.value\n                }\n                init['body'] = JSON.stringify(data)\n            }\n\n            let SubmitURL = configuration[urlSelected]['submitUri']\n\n            for (let str in (configuration[urlSelected]['params'] || {})) {\n                let toSet = ''\n                const data = configuration[urlSelected]['params'][str]\n                if (data.split(':').length > 1) {\n                    // 特殊parse\n                    let _data = data.split(':')\n                    switch (_data[0]) {\n                        case \"cookies\":\n                        default:\n                            toSet = cookies.get(_data[1])\n                            if (typeof toSet === 'undefined' || toSet === '' || toSet === 'undefined') {\n                                this.props.history.push('/login');\n                                return;\n                            }\n                    }\n                } else {\n                    toSet = data\n                }\n                SubmitURL = SubmitURL.replaceAll(\":\" + str, toSet)\n            }\n\n            fetch(SubmitURL, init).then(response => {\n                if (response.ok) {\n                    return response.json()\n                }\n                return response.text().then(err => {\n                    throw new Error(err)\n                })\n            }).then(response => {\n                console.log(response)\n                Swal.fire({\n                    title: '成功!',\n                    text: `更新成功, 歡迎${response?.name ?? ''}!`,\n                    icon: 'success',\n                    confirmButtonText: 'Ok'\n                }).then(() => {\n                    configuration[urlSelected]?.afterFetch?.(response)\n                    this.props.history.go(0);\n                })\n            }).catch(error => {\n                let response = JSON.parse(error.message)\n                Swal.fire({\n                    title: '錯誤!',\n                    html: (\n                        `錯誤： ${response?.error?.localizedMessage ?? response?.error ?? response?.message ?? ''}! <br>\n                        錯誤代碼： ${response?.error?.code}(${response?.error?.status})<br>\n                        如問題持續發生，請提供這些資訊給工程師!\n                        `),\n                    icon: 'error',\n                    confirmButtonText: 'Ok'\n                })\n            })\n        }\n\n        return (\n            <React.Fragment>\n                {configuration[urlSelected] &&\n                <React.Fragment><h2>{configuration[urlSelected]['title']}</h2>\n                    <div className=\"form-group\">\n                        <label>{configuration[urlSelected]['hint']}</label>\n                        <input id='userInput' type='text' className='form-control'\n                               placeholder={configuration[urlSelected]['placeholder']}/>\n                    </div>\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\" onClick={Send}>確認</button>\n                </React.Fragment>}\n                {!configuration[urlSelected] && urlSelected && <h2>請輸入合法功能</h2>}\n                {!configuration[urlSelected] && !urlSelected && <h2>請選取左邊功能以繼續</h2>}\n            </React.Fragment>\n        )\n    }\n}\n\nexport default withRouter(SettingConfigure)\n","import React from 'react'\r\nimport {Container, Row,Col} from \"react-bootstrap\";\r\n\r\nimport SettingOption from '../components/settingsOption'\r\nimport SettingConfigure from '../components/settingconfiguration/settingConfigure'\r\n\r\nclass Settings extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>設定</h1>\r\n                <Container>\r\n                    <Row>\r\n                        <Col xs={3}>\r\n                            <SettingOption />\r\n                        </Col>\r\n                        <Col xs={7}>\r\n                            <SettingConfigure/>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Settings","import React, {useEffect, useState} from 'react'\r\n\r\nimport {Button, Card, Spinner} from 'react-bootstrap'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nfunction ListStore(){\r\n    const [data,setData] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const getData = ()=>{\r\n        const url = process.env.REACT_APP_API_ENDPOINT + '/stores'\r\n        console.log(url)\r\n        fetch(url,{\r\n            method: 'GET'\r\n        }).then(response => {\r\n            setLoading(false)\r\n            if (response.ok) {\r\n                return response.json()\r\n            }\r\n            return response.text().then(res => {\r\n                throw new Error(res)\r\n            })\r\n        }).catch((error) => {\r\n            console.log(error.message)\r\n            let response = JSON.parse(error.message)\r\n            window.alert(\r\n                `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\r\n            )\r\n            window.location.replace('/')\r\n        }).then(myJson =>{\r\n            console.log(myJson)\r\n            setData(myJson)\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n        getData()\r\n    },[])\r\n    return(\r\n        <div className=\"ListStore\">\r\n            {\r\n                data && (data.length > 0 ? data.map((item)=>\r\n                    <Card key={item.id}>\r\n                        <Card.Img variant=\"top\" src={item.picUrl} />\r\n                        <Card.Body style={{display:\"flex\"}}>\r\n                            <div>\r\n                                <Card.Title>{item.name}</Card.Title>\r\n                                <Card.Text>{item.description}</Card.Text>\r\n                            </div>\r\n                            <div style={{marginLeft:\"auto\"}}>\r\n                                <Button variant=\"primary\" as={Link} to={{pathname:`/order/${item.id}`}}>立即查看</Button>\r\n                            </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                ) : <React.Fragment><br/><h2 style={{textAlign: 'center'}}>目前無相關資料</h2></React.Fragment>)\r\n            }\r\n            <center>\r\n                <Spinner animation={\"border\"} hidden={!loading}/>\r\n            </center>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListStore","import React from 'react'\r\n\r\nimport Liststore from '../../components/liststore'\r\nimport {\r\n    Container\r\n} from 'react-bootstrap'\r\n\r\nclass Restaurant extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>餐廳</h1>\r\n                <Container>\r\n                    <Liststore />\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Restaurant","import Cookies from \"universal-cookie\";\n\nexport class API {\n    cookies = new Cookies();\n\n    call(endpoint: string, data: Object, cb) {\n        endpoint = process.env.REACT_APP_API_ENDPOINT + endpoint\n        for (let str in (data.params || {})) {\n            endpoint = endpoint.replaceAll(\":\"+str, data.params[str])\n        }\n        let body = (typeof data.body === 'object' ? JSON.stringify(data.body) : null)\n        let headers = new Headers({\n            'Content-Type': 'application/json',\n            'Accept': \"application/json\",\n            'Authorization': `Bearer ${this.cookies.get('session')}`,\n            'X-Fingerprint': `${this.cookies.get('fingerprint') ?? ''}`,\n            ...data.headers\n        })\n        fetch(endpoint, {\n            method: data.method,\n            body,\n            headers\n        }).then(r => r.json()).then(cb)\n    }\n}","import React, {useEffect, useState} from 'react'\r\nimport Cookies from 'universal-cookie'\r\nimport {Card, Col, Container, Row} from 'react-bootstrap'\r\nimport {Rating} from \"@material-ui/lab\";\r\nimport {Grid, IconButton, LinearProgress} from \"@material-ui/core\";\r\nimport {API} from \"../helpers/API\";\r\nimport {Delete} from \"@material-ui/icons\";\r\n\r\n\r\nexport default function Transaction() {\r\n    const [transaction, setTransaction] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const api = new API();\r\n\r\n    async function Update() {\r\n        const cookies = new Cookies()\r\n        const allcookies = cookies.getAll()\r\n        const fetchURL = process.env.REACT_APP_API_ENDPOINT + '/transactions'\r\n        setLoading(true);\r\n        fetch(fetchURL, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `Bearer ${allcookies['session']}`\r\n            }\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                return response.json()\r\n            }\r\n            return response.text().then(res => {\r\n                throw new Error(res)\r\n            })\r\n        }).catch((error) => {\r\n            console.log(error.message)\r\n            let response = JSON.parse(error.message)\r\n            window.alert(\r\n                `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\r\n            )\r\n            window.location.replace('/')\r\n        }).then(r => {\r\n            console.log(r)\r\n            setTransaction(r)\r\n            setLoading(false)\r\n        })\r\n    }\r\n\r\n    function setNewRate(val, id) {\r\n        setLoading(true)\r\n        api.call('/transactions/:transaction/rate', {\r\n            method: 'POST',\r\n            params: {\r\n                transaction: id\r\n            },\r\n            body: {\r\n                rate: val\r\n            }\r\n        }, (r) => {\r\n            Update()\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        Update()\r\n    }, [])\r\n\r\n    return (\r\n        <Container>\r\n            <LinearProgress hidden={!loading}/>\r\n            <div className={\"History\"}>\r\n                {\r\n                    transaction && transaction.length > 0 && transaction.map((item) =>\r\n                        <Row key={item.id}>\r\n                            <Col sm={12} md={6}>\r\n                                <Card>\r\n                                    <Card.Img variant=\"top\" src={item.picUrl}/>\r\n                                    <Card.Body style={{display: \"flex\", flexDirection: \"column\",}}>\r\n                                        <Card.Title>商品名稱：{item.product.name}</Card.Title>\r\n                                        <Card.Title>金額：{item.total}</Card.Title>\r\n                                        <Card.Text>留言：{item.comment === null ? '': item.comment.length > 50 ? item.comment.slice(0,50)+' ...': item.comment}</Card.Text>\r\n                                        <Card.Text>購買日期：{new Date(item.updated_at).toLocaleTimeString('zh-TW')}</Card.Text>\r\n                                        <Card.Text>訂單編號：<b>{item.id.substring(0, 8)}</b>{item.id.substr(8)}</Card.Text>\r\n                                        <Grid container spacing={1} justify=\"center\" direction=\"row\"\r\n                                              alignItems=\"center\">\r\n                                            <Grid item>\r\n                                                <Rating name=\"rating\" value={parseFloat(item.rating)}\r\n                                                        onChange={e => setNewRate(e.target.value, item.id)}/>\r\n                                            </Grid>\r\n                                            <Grid item>\r\n                                                <IconButton\r\n                                                    onClick={() => setNewRate(-1, item.id)}\r\n                                                ><Delete size=\"small\"/></IconButton>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                    </Card.Body>\r\n                                </Card>\r\n                            </Col>\r\n                            <Col sm={12} md={6} style={{justifyContent: 'center', display: \"flex\"}}>\r\n                                <div>\r\n                                    <span style={{\r\n                                        alignItems: \"center\",\r\n                                        fontSize: \"5rem\",\r\n                                        fontStyle: \"bold\",\r\n                                        display: \"flex\",\r\n                                        textAlign: \"center\"\r\n                                    }}>{item.id.substring(0, 8)}</span>\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    )\r\n                }\r\n            </div>\r\n        </Container>\r\n    )\r\n}","import React from 'react'\r\nimport Transaction from '../../components/transaction'\r\n\r\nclass Histories extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>歷史紀錄</h1>\r\n                <Transaction />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Histories","import React from 'react'\r\n\r\nclass StoreSetting extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>商家設定</h1>\r\n\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default StoreSetting","import React from 'react'\n\nimport {Link} from 'react-router-dom'\n\nclass MenuOption extends React.Component{\n    render() {\n        return (\n            <div className=\"optionBar\">\n                <ul>\n                    <li><Link to=\"/config/menu/new\">新增</Link></li>\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default MenuOption","import React, {useEffect, useRef, useState} from 'react'\r\nimport {Button, Card} from \"react-bootstrap\";\r\nimport Cookies from 'universal-cookie'\r\nimport {Link} from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport {API} from \"../../helpers/API\";\r\n\r\nexport default function ListAddedFood() {\r\n    const [data, setData] = useState([])\r\n    const [quota, setQuota] = useState(0)\r\n    const isInitialMount = useRef(true);\r\n    const cookies = new Cookies()\r\n    const allcookies = cookies.getAll()\r\n    const api = new API()\r\n    if (!allcookies['storeId']) {\r\n        Swal.fire({\r\n            title: '錯誤!',\r\n            text: '404 (STORE_NOT_FOUND)',\r\n            icon: 'error',\r\n            confirmButtonText: 'Ok'\r\n        })\r\n    }\r\n    const getData = () => {\r\n        const url = process.env.REACT_APP_API_ENDPOINT + '/stores/' + allcookies['storeId'] + '/products'\r\n        fetch(url, {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Accept\": \"application/json\"\r\n            }\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                return response.json()\r\n            }\r\n            return response.text().then(res => {\r\n                throw new Error(res)\r\n            })\r\n        }).catch((error) => {\r\n            console.log(error.message)\r\n            let response = JSON.parse(error.message)\r\n            window.alert(\r\n                `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\r\n            )\r\n            window.location.replace('#/login')\r\n        }).then(myJson => {\r\n            console.log(myJson)\r\n            setData(myJson)\r\n        })\r\n        api.call('/stores/:id/promotion_quota', {\r\n            params: {\r\n                id: allcookies['storeId']\r\n            }\r\n        }, (r) => {\r\n            console.log(r.remain)\r\n            setQuota(r.remain)\r\n        })\r\n    }\r\n\r\n    function promote(id) {\r\n        Swal.fire({\r\n            title: '確認',\r\n            text: '確定要將宣傳點數用於這個商品嗎？',\r\n            showCancelButton: true,\r\n            confirmButtonText: '確定'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                api.call('/products/:id/promotion', {\r\n                    method: \"POST\",\r\n                    params: {\r\n                        id\r\n                    },\r\n                    body: {\r\n                        \"type\": \"WEIGHT\"\r\n                    }\r\n                }, (r) => {\r\n                    console.log(r)\r\n                    if (r.status === \"error\") {\r\n                        Swal.fire({\r\n                            title: \"錯誤!\",\r\n                            text: \"伺服器錯誤(\" + r.error.message + \")\",\r\n                            icon: \"error\"\r\n                        })\r\n                    } else {\r\n                        Swal.fire({\r\n                            title: \"成功!\",\r\n                            text: \"權重增加成功\",\r\n                            icon: \"success\"\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isInitialMount.current) {\r\n            isInitialMount.current = false;\r\n            getData()\r\n        }\r\n    })\r\n    return (\r\n        <div className=\"storeAdded\">\r\n            <div style={{textAlign: \"right\"}}>剩下的宣傳點數： {quota}點</div>\r\n            {\r\n                data && data.length > 0 && data.map((item) =>\r\n                    <Card key={item.id}>\r\n                        <Card.Img variant=\"top\" src={item.picUrl}/>\r\n                        <Card.Body style={{display: \"flex\"}}>\r\n                            <div>\r\n                                <Card.Title>{item.name}</Card.Title>\r\n                                <Card.Text>{item.description}</Card.Text>\r\n                            </div>\r\n                            <div style={{marginLeft: \"auto\"}}>\r\n                                <Button variant=\"danger\" onClick={() => promote(item.id)}>提高排名</Button>\r\n                            </div>\r\n                            &nbsp;\r\n                            <div>\r\n                                <Button variant=\"primary\" as={Link}\r\n                                        to={{pathname: `/config/advanced/${item.id}`}}>修改</Button>\r\n                            </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport MenuOption from '../../components/menuoption'\r\nimport {Container} from \"react-bootstrap\";\r\nimport ListAddedFood from '../../components/sells/listaddedfood'\r\n\r\nclass MenuSetting extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>菜單設定</h1>\r\n                <Container>\r\n                    <MenuOption />\r\n                    <br />\r\n                    <ListAddedFood />\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MenuSetting","import React, {useEffect, useState} from 'react'\r\nimport {useHistory} from \"react-router-dom\";\r\nimport Cookies from \"universal-cookie\";\r\nimport {Button, Col, Container, Figure, Row, Spinner} from \"react-bootstrap\";\r\n\r\nexport default function AdvancedConfig(props){\r\n    const [image, setImage] = useState('')\r\n    const [uploading, setUploading] = useState(false)\r\n    const [imageUrl, setImageUrl] = useState('')\r\n    const history = useHistory();\r\n    const cookies = new Cookies()\r\n    let allcookies = cookies.getAll()\r\n    const storeId = allcookies['storeId']\r\n\r\n    const [name,setName] = useState('')\r\n    const [subtitle,setSubtitle] = useState('')\r\n    const [price,setPrice] = useState('')\r\n\r\n\r\n    async function Send() {\r\n        const name = document.getElementById('foodTitle').value\r\n        const subtitle = document.getElementById('foodSub').value\r\n        let price = document.getElementById('foodPrice').value\r\n        const postURL = process.env.REACT_APP_API_ENDPOINT + '/stores/' + storeId + '/products'\r\n\r\n        var data = {\r\n            'name': name,\r\n            'price': price,\r\n            'description': subtitle,\r\n            'store_id': storeId,\r\n            \"image\": imageUrl\r\n        }\r\n        //window.alert(postURL)\r\n        await fetch(postURL, {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                \"Accept\": \"application/json\",\r\n                \"Authorization\": `Bearer ${allcookies['session']}`\r\n            }\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                return response.json()\r\n            }\r\n            return response.text().then(res => {\r\n                throw new Error(res)\r\n            })\r\n        }).catch((error) => {\r\n            console.log(error.message)\r\n            let response = JSON.parse(error.message)\r\n            window.alert(`${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`)\r\n        }).then(response => {\r\n            console.log(response)\r\n            history.push('/config/menu')\r\n        })\r\n    }\r\n\r\n    function handleChangeImage(evt) {\r\n        console.log(\"Uploading\");\r\n        const storeId = allcookies['storeId']\r\n        var reader = new FileReader();\r\n        var file = evt.target.files[0];\r\n\r\n        reader.onload = function (upload) {\r\n            console.log(file)\r\n            setImage(upload.target.result);\r\n            const formData = new FormData()\r\n            formData.append('image', file)\r\n            setUploading(true)\r\n            fetch(process.env.REACT_APP_API_ENDPOINT + '/stores/' + storeId + '/images', {\r\n                method: 'POST',\r\n                headers: {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Authorization\": `Bearer ${allcookies['session']}`\r\n                },\r\n                body: formData\r\n            }).then(response => {\r\n                if (response.ok) {\r\n                    return response.json()\r\n                }\r\n                return response.text().then(res => {\r\n                    throw new Error(res)\r\n                })\r\n            }).catch((error) => {\r\n                console.log(error.message)\r\n                let response = JSON.parse(error.message)\r\n                window.alert(`${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`)\r\n            }).then(response => {\r\n                console.log(typeof response)\r\n                //window.alert(response)\r\n                setImageUrl(response.result.data)\r\n                window.alert(response.result.data)\r\n                setUploading(false)\r\n            })\r\n        };\r\n        reader.readAsDataURL(file);\r\n        console.log(\"Uploaded\");\r\n    }\r\n\r\n    async function firstFetch(){\r\n        //instant fetch settings from history\r\n        const url = process.env.REACT_APP_API_ENDPOINT +'/stores/'+ allcookies['storeId']+ '/products/'+ props.product\r\n        try{\r\n            const data = await fetch(url,{\r\n                method: 'GET',\r\n                headers: {\r\n                    'Authorization': `Bearer ${allcookies['session']}`,\r\n                    'Accept': 'application/json'\r\n                }\r\n            })\r\n            let parsed = await data.json()\r\n            setPrice(parsed['price'])\r\n            setName(parsed['name'])\r\n            setSubtitle(parsed['description'])\r\n\r\n            setImageUrl(parsed['image'])\r\n            console.log(parsed)\r\n        }catch(err){\r\n            window.alert(\r\n`錯誤!!!\r\nerror: ${err}\r\n立即返回首頁\r\n`)\r\n            document.location.href = '/'\r\n        }\r\n    }\r\n    useEffect(()=>{\r\n        firstFetch()\r\n        // eslint-disable-next-line\r\n    },[])\r\n    return(\r\n        <Container>\r\n            <form\r\n                className={\"foodBlock\"}\r\n                onSubmit={e => {\r\n                    e.preventDefault()\r\n                    Send()\r\n                }}\r\n            >\r\n                <div className=\"form-group\">\r\n                    <label>食物名</label>\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"標題\" value={name} onChange={e =>setName(e.target.value)} required/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>價錢</label>\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"價錢\" value={price} onChange={e => setPrice(parseInt(e.target.value))} required/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>副標題</label>\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"副標\" value={subtitle} onChange={e=> setSubtitle(e.target.value)} required/>\r\n                </div>\r\n                <Row>\r\n                    <Col>\r\n                        <div className=\"form-group\">\r\n                            <Button as={\"label\"} variant={\"primary\"} hidden={imageUrl !== ''}>\r\n                                上傳圖片\r\n                                <input type=\"file\" name=\"file\"\r\n                                       className=\"upload-file\"\r\n                                       id=\"file\"\r\n                                       onChange={handleChangeImage}\r\n                                       hidden\r\n                                />\r\n                            </Button>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <center>\r\n                            <Spinner hidden={uploading === false} animation={\"border\"}/>\r\n                            <br/>\r\n                            <a href={process.env.REACT_APP_API_HOST + '/' + imageUrl} target=\"_blank\"\r\n                               hidden={!image || uploading}\r\n                               rel=\"noreferrer\">{process.env.REACT_APP_API_HOST + '/' + imageUrl}</a>\r\n                            <br/>\r\n                            <Figure.Image\r\n                                width={300}\r\n                                src={image && !uploading ? process.env.REACT_APP_API_HOST + '/' + imageUrl : \"https://via.placeholder.com/300x180?text=Product+Image\"}\r\n                                resizeMode=\"contain\"\r\n                            />\r\n                        </center>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <div className=\"h-100 align-items-center\">\r\n                        <div id=\"placeToAdd\"/>\r\n                    </div>\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <button className=\"btn btn-primary btn-block\">送出</button>\r\n                    </Col>\r\n                </Row>\r\n            </form>\r\n        </Container>\r\n    )\r\n}","import React from 'react'\r\n\r\nimport AdvancedConfig from '../../components/sells/advancedconfig'\r\n\r\nclass Advanced extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>進階設定</h1>\r\n                <AdvancedConfig product={this.props.match.params.product}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Advanced\r\n\r\n","import React from 'react'\r\nimport {Container} from \"react-bootstrap\";\r\nimport config from \"../config.json\"\r\n\r\nclass CodeofConduct extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n        // eslint-disable-next-line\r\n        let toBeReplace = new RegExp(\"\\n\", \"g\")\r\n        const titleUrl = config['docRoot'] + \"title.json\"\r\n        fetch(titleUrl).then(response =>{\r\n            return response.json()\r\n        }).then(json=>{\r\n            let title = document.getElementById('title')\r\n            title.innerHTML = json['title']\r\n        })\r\n        const url = config['docRoot'] + \"coc.json\"\r\n\r\n        fetch(url)\r\n            .then(response => {\r\n                return response.json()\r\n            }).then(json => {\r\n                for (let i = 0; i < json['title'].length; ++i) {\r\n                    let ptitle = document.createElement('H2')\r\n                    ptitle.textContent = json['title'][i]\r\n\r\n                    document.getElementById('COC').appendChild(ptitle)\r\n                    document.getElementById('COC').innerHTML += \"<p>\" + json['context'][i].replace(toBeReplace, \"<br>\") + \"</p>\"\r\n                }\r\n                let updateTime = document.createElement('H3')\r\n                updateTime.innerText = \"最後更新日期：\"+json['date']\r\n                document.getElementById('COC').appendChild(updateTime)\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>行為準則</h1>\r\n                <Container>\r\n                    <br />\r\n                    <p id=\"title\" />\r\n                    <div id=\"COC\" />\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CodeofConduct","import React from 'react'\r\nimport {Container} from \"react-bootstrap\";\r\nimport config from \"../config.json\"\r\n\r\n\r\nclass Privacy extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n        // eslint-disable-next-line\r\n        let toBeReplace = new RegExp(\"\\n\",\"g\")\r\n        let titleUrl = config['docRoot'] + \"title.json\"\r\n\r\n        fetch(titleUrl)\r\n            .then(response =>{\r\n                return response.json()\r\n            }).then(json =>{\r\n                let title = document.getElementById('title')\r\n                title.innerHTML = json['title']\r\n            })\r\n\r\n        let url = config['docRoot'] + \"privacy.json\"\r\n\r\n        fetch(url)\r\n            .then(response => {\r\n                return response.json()\r\n            }).then(json => {\r\n                for (let i = 0; i < json['title'].length; ++i) {\r\n                    let ptitle = document.createElement('H2')\r\n                    ptitle.textContent = json['title'][i]\r\n\r\n                    document.getElementById('policy').appendChild(ptitle)\r\n                    document.getElementById('policy').innerHTML += \"<p>\" + json['context'][i].replace(toBeReplace, \"<br>\") + \"</p>\"\r\n                }\r\n                let updateTime = document.createElement('H3')\r\n                updateTime.innerText = \"最後更新日期：\"+json['date']\r\n                document.getElementById('policy').appendChild(updateTime)\r\n            })\r\n\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>隱私權聲明</h1>\r\n                <Container>\r\n                    <br />\r\n                    <p id=\"title\" />\r\n                    <div id='policy' />\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Privacy","import React from 'react'\r\nimport {Col, Container, Row} from \"react-bootstrap\";\r\nimport Cookies from 'universal-cookie'\r\n//import LoadingSpinner from '../components/loadingspinner'\r\nimport {Link} from 'react-router-dom'\r\n\r\nclass Signupblock extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const Send = ()=> {\r\n            const passwd = document.getElementById('userInputPasswd')\r\n            const passwdVerify = document.getElementById('userInputPasswdVerification')\r\n            const email = document.getElementById('userInputEmail')\r\n            const token = document.getElementById('activateToken')\r\n            const username = document.getElementById('username')\r\n\r\n            //verify inputs\r\n            if (!(passwd.value && passwdVerify.value && email.value && token.value && username.value)) {\r\n                return\r\n            }\r\n\r\n            //verify and password is not the same\r\n            if (passwd.value !== passwdVerify.value) {\r\n                window.alert('密碼與密碼驗證不符')\r\n                //empty the input box\r\n                passwd.value = ''\r\n                passwdVerify.value = ''\r\n                return\r\n            }\r\n\r\n            //verify email\r\n            let emailRule = /^\\w+((-\\w+)|(\\.\\w+))*@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/\r\n            //validate ok or not\r\n            if (email.value.search(emailRule) === -1) {\r\n                return\r\n            }\r\n\r\n            //send things to server\r\n            let data = {\r\n                'email': email.value,\r\n                'name': username.value,\r\n                'password': passwd.value,\r\n                'registration_code': token.value\r\n            }\r\n\r\n            let url = process.env.REACT_APP_API_ENDPOINT + '/register'\r\n            //send request\r\n            this.setState({\r\n                loading: true\r\n            })\r\n            fetch(url,{\r\n                method: 'POST',\r\n                body: JSON.stringify(data),\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json',\r\n                }\r\n            }).then(response => {\r\n                if (response.ok) {\r\n                    return response.json()\r\n                }\r\n                return response.text().then(res => {\r\n                    throw new Error(res)\r\n                })\r\n            }).catch((error) => {\r\n                console.log(error.message)\r\n                let response = JSON.parse(error.message)\r\n                window.alert(\r\n                    `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\r\n                )\r\n                this.setState({loading: false})\r\n            }).then(response => {\r\n                // add cookies\r\n                const cookies = new Cookies()\r\n                //cookies.set('session', response['access_token'], {path: '/'})\r\n                cookies.set('alert', '註冊成功', {path: '/'})\r\n                window.location.replace('/login')\r\n                this.setState({loading: false})\r\n            }).catch(err=>{\r\n                console.log(`Failed: ${err}`)\r\n                this.setState({loading: false})\r\n            }).then(this.setState(\r\n                {loading: false\r\n                }))\r\n\r\n        }\r\n\r\n        return(\r\n            <React.Fragment>\r\n            <Container>\r\n                <form className={\"signInBlock\"}>\r\n                    <h3 style={{textAlign: 'center'}}>帳號註冊</h3>\r\n                    <div className=\"form-group\">\r\n                        <label>啟動碼</label>\r\n                        <input id=\"activateToken\" type=\"text\" className=\"form-control\" placeholder=\"Enter the activate code\" required/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>電子郵件</label>\r\n                        <input id=\"userInputEmail\" type=\"email\" className=\"form-control\" placeholder=\"Enter email\" required/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>密碼</label>\r\n                        <input id=\"userInputPasswd\" type=\"password\" className=\"form-control\" placeholder=\"Enter password\" required/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>密碼確認</label>\r\n                        <input id=\"userInputPasswdVerification\" type=\"password\" className=\"form-control\" placeholder=\"Enter password\" required/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>使用者名稱</label>\r\n                        <input id=\"username\" type=\"text\" className=\"form-control\" placeholder=\"Enter the username\" required/>\r\n                    </div>\r\n\r\n                    <Row>\r\n                        <Col></Col>\r\n                        <Col></Col>\r\n                        <Col>{this.state.loading? <Link className=\"btn btn-primary btn-block\" type=\"submit\">請稍後</Link>:<Link className=\"btn btn-primary btn-block\" type='submit' onClick={Send}>送出</Link>}</Col>\r\n                    </Row>\r\n                </form>\r\n            </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Signupblock","import React from 'react'\r\nimport Signupblock from \"../components/signupblock\";\r\n\r\nclass Signup extends React.Component{\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <Signupblock />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Signup","import React from 'react'\r\n\r\nimport {\r\n    Button,\r\n    Container,\r\n    Form\r\n} from 'react-bootstrap'\r\nimport Cookies from \"universal-cookie\";\r\n\r\nclass Feedback extends React.Component{\r\n    render() {\r\n        const Send = () => {\r\n            //send form\r\n            // data to send\r\n            let name = document.getElementById('nickName')\r\n            let question = document.getElementById('question')\r\n\r\n            if(name.value === ''){\r\n                return\r\n            }\r\n            if(question.value === ''){\r\n                return\r\n            }\r\n\r\n            let toSend = new FormData()\r\n            toSend.append('entry.1239005013',name.value)\r\n            toSend.append('entry.664971969',question.value)\r\n\r\n            //link to send\r\n            const url = 'https://docs.google.com/forms/u/0/d/e/1FAIpQLSdppxPAZlPuLMgelWDJ1wP6fIB4vScvivNrn3BZ9g7etGklCA/formResponse'\r\n\r\n            fetch(url,{\r\n                method: 'POST',\r\n                mode: 'no-cors',\r\n                body: toSend\r\n            }).then(response=>{\r\n                if(response.ok){\r\n                    return response.json()\r\n                }\r\n                return response.text().then(res => {\r\n                    throw new Error(res)\r\n                })\r\n            }).catch(err=>{\r\n                console.log(err.message)\r\n                let response = JSON.parse(err.message)\r\n                window.alert(\r\n                    `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\r\n                )\r\n                return\r\n            }).then(json=>{\r\n                window.alert('message sent')\r\n                console.log(json)\r\n            })\r\n            window.alert('已經收到你的訊息了\\n我們將會努力改進')\r\n            const cookies = new Cookies()\r\n            cookies.set('alert','傳送成功',{path:'/'})\r\n            document.location.replace('#/feedback')\r\n        }\r\n        return (\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>意見反饋</h1>\r\n                <Container>\r\n                    <Form>\r\n                        <Form.Group>\r\n                            <Form.Label>暱稱：</Form.Label>\r\n                            <Form.Control id='nickName' type=\"text\" placeholder=\"小/大明\" required/>\r\n                            <Form.Text className=\"text-muted\">\r\n                                我們絕對不會因為你的暱稱很智障就不理你\r\n                            </Form.Text>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>問題：</Form.Label>\r\n                            <Form.Control as=\"textarea\" rows='5' id='question' required/>\r\n                        </Form.Group>\r\n\r\n                        <Button variant=\"primary\" type=\"submit\" onClick={Send}>\r\n                            送出\r\n                        </Button>\r\n                    </Form>\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Feedback","import React, {useState} from 'react'\nimport {Button, Col, Container, Figure, Row, Spinner} from \"react-bootstrap\";\nimport config from \"../../config.json\";\nimport Cookies from \"universal-cookie\";\nimport {useHistory} from \"react-router-dom\";\n\nclass ToolBar extends React.Component {\n    render() {\n        const NewOption = () => {\n            const popupUrl = config['project'] + '#/config/new/option'\n            const popupWindow = window.open(popupUrl,/*'popUpWindow',*/'', 'location=no,height=500,width=400,top=100,left=300')\n            popupWindow.body = \"功能未開放\"\n        }\n        return (\n            <div className=\"optionBar\" hidden={true}>\n                <ul>\n                    <li><Button variant=\"dark\" onClick={NewOption}><i className=\"fa fa-plus\" aria-hidden=\"true\"/>新增選項</Button></li>\n                </ul>\n            </div>\n        )\n    }\n}\n\nfunction MenuConfigurator() {\n    const [image, setImage] = useState('')\n    const [uploading, setUploading] = useState(false)\n    const [imageUrl, setImageUrl] = useState('')\n    const history = useHistory();\n    const cookies = new Cookies()\n    let allcookies = cookies.getAll()\n    const storeId = allcookies['storeId']\n\n    async function Send() {\n        const name = document.getElementById('foodTitle').value\n        const subtitle = document.getElementById('foodSub').value\n        const price = document.getElementById('foodPrice').value\n        const postURL = process.env.REACT_APP_API_ENDPOINT + '/stores/' + storeId + '/products'\n\n        var data = {\n            'name': name,\n            'price': price,\n            'description': subtitle,\n            'store_id': storeId,\n            \"image\": imageUrl\n        }\n        //window.alert(postURL)\n        await fetch(postURL, {\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: {\n                'Content-Type': 'application/json',\n                \"Accept\": \"application/json\",\n                \"Authorization\": `Bearer ${allcookies['session']}`\n            }\n        }).then(response => {\n            if (response.ok) {\n                return response.json()\n            }\n            return response.text().then(res => {\n                throw new Error(res)\n            })\n        }).catch((error) => {\n            console.log(error.message)\n            let response = JSON.parse(error.message)\n            window.alert(`${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`)\n        }).then(response => {\n            console.log(response)\n            history.push('/config/menu')\n        })\n    }\n\n    function handleChangeImage(evt) {\n        console.log(\"Uploading\");\n        const storeId = allcookies['storeId']\n        var reader = new FileReader();\n        var file = evt.target.files[0];\n\n        reader.onload = function (upload) {\n            console.log(file)\n            setImage(upload.target.result);\n            const formData = new FormData()\n            formData.append('image', file)\n            setUploading(true)\n            fetch(process.env.REACT_APP_API_ENDPOINT + '/stores/' + storeId + '/images', {\n                method: 'POST',\n                headers: {\n                    \"Accept\": \"application/json\",\n                    \"Authorization\": `Bearer ${allcookies['session']}`\n                },\n                body: formData\n            }).then(response => {\n                if (response.ok) {\n                    return response.json()\n                }\n                return response.text().then(res => {\n                    throw new Error(res)\n                })\n            }).catch((error) => {\n                console.log(error.message)\n                let response = JSON.parse(error.message)\n                window.alert(`${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`)\n            }).then(response => {\n                console.log(typeof response)\n                //window.alert(response)\n                setImageUrl(response.result.data)\n                setUploading(false)\n            })\n        };\n        reader.readAsDataURL(file);\n        console.log(\"Uploaded\");\n    }\n\n    return (\n        <form\n            className={\"foodBlock\"}\n            onSubmit={e => {\n                e.preventDefault()\n                Send()\n            }}\n        >\n            <div className=\"form-group\">\n                <label>食物名</label>\n                <input id=\"foodTitle\" type=\"text\" className=\"form-control\" placeholder=\"標題\" required/>\n            </div>\n            <div className=\"form-group\">\n                <label>價錢</label>\n                <input id=\"foodPrice\" type=\"number\" className=\"form-control\" placeholder=\"價錢\" required/>\n            </div>\n            <div className=\"form-group\">\n                <label>副標題</label>\n                <input id=\"foodSub\" type=\"text\" className=\"form-control\" placeholder=\"副標\" required/>\n            </div>\n            <Row>\n                <Col>\n                    <div className=\"form-group\">\n                        <Button as={\"label\"} variant={\"primary\"} hidden={imageUrl !== ''}>\n                            上傳圖片\n                            <input type=\"file\" name=\"file\"\n                                   className=\"upload-file\"\n                                   id=\"file\"\n                                   onChange={handleChangeImage}\n                                   required\n                                   hidden\n                            />\n                        </Button>\n                    </div>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                    <center>\n                        <Spinner hidden={uploading === false} animation={\"border\"}/>\n                        <br/>\n                        <a href={process.env.REACT_APP_API_HOST + '/' + imageUrl} target=\"_blank\"\n                           hidden={!image || uploading}\n                           rel=\"noreferrer\">{process.env.REACT_APP_API_HOST + '/' + imageUrl}</a>\n                        <br/>\n                        <Figure.Image\n                            width={300}\n                            src={image && !uploading ? process.env.REACT_APP_API_HOST + '/' + imageUrl : \"https://via.placeholder.com/300x180?text=Product+Image\"}\n                            resizeMode=\"contain\"\n                        />\n                    </center>\n                </Col>\n            </Row>\n            <Row>\n                <div className=\"h-100 align-items-center\">\n                    <div id=\"placeToAdd\"/>\n                </div>\n            </Row>\n            <Row>\n                <Col>\n                    <button className=\"btn btn-primary btn-block\">送出</button>\n                </Col>\n            </Row>\n        </form>\n    )\n}\n\nclass NewMenu extends React.Component {\n    componentDidMount() {\n        window.scrollTo({top: 0, behavior: 'smooth'})\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <h1 style={{textAlign: 'center'}}>新增菜單</h1>\n                <Container>\n                    <ToolBar/>\n                    <br/>\n                    <MenuConfigurator/>\n                </Container>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default NewMenu","import React, {useEffect, useState} from 'react'\nimport {Button, Card,Container} from \"react-bootstrap\";\n\nfunction NewOption(){\n    // eslint-disable-next-line no-unused-vars\n    const [array,setArray] = useState([])\n    const [data,setData] = useState([])\n    //const inputOption = document.getElementById('inputOption')\n\n    const deleteFile = (node) => {\n        window.alert(node)\n    }\n    /*const newOption = () =>{\n        if(inputOption.value !== ''){\n            if(array.length === 0){\n                setArray([inputOption.value])\n            }else{\n                let temp = array\n                temp.push(inputOption.value)\n                setArray(temp)\n            }\n            inputOption.value = ''\n        }else{\n            window.alert('輸入不得為空')\n        }\n    }*/\n\n\n    useEffect(()=>{\n        const getData = ()=>{\n            setData(array)\n        }\n        getData()\n    },[array])\n\n    return(\n        <React.Fragment>\n            <h1 style={{textAlign: 'center'}}>選項設定</h1>\n            <Container>\n                <form >\n                    <div className=\"form-group\">\n                        <label>新選項</label>\n                        <input id=\"inputOption\" type=\"text\" className=\"form-control\" placeholder=\"選項名\" />\n                    </div>\n                    <Button className=\"btn btn-primary btn-block\">新增</Button>\n                </form>\n\n                <br />\n                {\n                    data.map((name,index) => {\n                        return(\n                            <Card key={name}>\n                                <Card.Body style={{display:\"flex\"}}>\n                                    <div>\n                                        <Card.Title>{name}</Card.Title>\n                                    </div>\n                                    <div style={{marginLeft:\"auto\"}}>\n                                        <Button variant=\"primary\" onClick={() => deleteFile(index)}>刪除</Button>\n                                    </div>\n                                </Card.Body>\n                            </Card>\n                    )})\n                }\n            </Container>\n\n\n        </React.Fragment>\n    )\n}\n\nexport default NewOption","import React from \"react\";\nimport {Card} from \"react-bootstrap\";\n\n\nclass DiskQuota extends React.Component {\n    render() {\n        return (\n            <Card className={[\"m-3\", \"p-3\"]}>\n                <div hidden={!this.props.quota.exceed_quota}>\n                    儲存空間已滿\n                </div>\n                <div>\n                    儲存空間剩餘 {(this.props.quota.remain / 1024000).toFixed(2)} Mb / {this.props.quota.total} Mb\n                    (已用{(((this.props.quota.total - (this.props.quota.remain / 1024000)) / this.props.quota.total) * 100).toFixed(2)}%)\n                </div>\n            </Card>\n        )\n    }\n\n}\n\nexport default DiskQuota","import React from \"react\";\n\nclass Subscription extends React.Component {\n    render() {\n        return (\n            <tr>\n                <td>{this.props.subscription.plan.name}</td>\n                <td>{this.props.subscription.plan.description}</td>\n                <td>{this.props.subscription.plan.disk_quota ?? 0} Mb</td>\n                <td>{this.props.subscription.plan.promotion_quota ?? 0} 點</td>\n                <td>{this.props.subscription.expires_at ?? \"永久有效\"}</td>\n            </tr>\n        )\n    }\n\n}\n\nexport default Subscription","import React from \"react\";\n\nclass Plan extends React.Component {\n    constructor(props) {\n        super(props);\n        this.generateECPay = this.generateECPay.bind(this)\n    }\n\n    generateECPay(){\n        return (\n            process.env.REACT_APP_API_HOST + '/' +\n            this.props.storeId + '/' + this.props.plan.id + '/sendOrder'\n        )\n    }\n\n    render() {\n        return (\n            <tr>\n                <td>{this.props.plan.name}</td>\n                <td>{this.props.plan.description}</td>\n                <td>{this.props.plan.disk_quota ?? 0} Mb</td>\n                <td>{this.props.plan.promotion_quota ?? 0} 點</td>\n                <td>\n                    <a href={this.generateECPay()} rel=\"noreferrer\" className=\"btn btn-primary\" target={\"_blank\"}>購買</a>\n                </td>\n            </tr>\n        )\n    }\n\n}\n\nexport default Plan","import React from 'react'\nimport {Card, Col, Row, Spinner, Table} from \"react-bootstrap\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faHeadphones} from '@fortawesome/free-solid-svg-icons'\nimport DiskQuota from \"./CustomerServiceComponent/DiskQuota\";\nimport Cookies from \"universal-cookie/lib\";\nimport {API} from \"../../helpers/API\";\nimport Subscription from \"./CustomerServiceComponent/Subscription\";\nimport Plan from \"./CustomerServiceComponent/Plan\";\nimport Swal from \"sweetalert2\";\nimport {withRouter} from \"react-router-dom\";\n\nconst api = new API()\nconst cookies = new Cookies()\n\nclass CustomerService extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            quota: {},\n            loading: false,\n            subscriptions: [],\n            plans: []\n        }\n    }\n\n    getDiskQuota(storeId) {\n        this.setState({\n            loading: true\n        })\n        api.call('/stores/:store/disk_quota', {\n            method: \"GET\",\n            params: {\n                store: storeId\n            }\n        }, (quota) => {\n            console.log(quota.remain)\n            this.setState({\n                quota,\n                loading: false\n            });\n        })\n    }\n\n    getSubscriptions(storeId) {\n        this.setState({\n            loading: true\n        })\n        api.call('/stores/:store/subscriptions', {\n            method: \"GET\",\n            params: {\n                store: storeId\n            }\n        }, (subscriptions) => {\n            console.log(subscriptions)\n            this.setState({\n                subscriptions,\n                loading: false\n            });\n        })\n    }\n\n    getPlans(storeId) {\n        this.setState({\n            loading: true\n        })\n        api.call('/plans', {\n            method: \"GET\",\n            params: {\n                store: storeId\n            }\n        }, (plans) => {\n            console.log(plans)\n            this.setState({\n                plans,\n                loading: false\n            });\n        })\n    }\n\n    componentDidMount(props) {\n        window.scrollTo({top: 0, behavior: 'smooth'})\n        let storeId = cookies.get('storeId')\n        if (!storeId) {\n            Swal.fire({\n                title: '錯誤!',\n                text: '404 (STORE_NOT_FOUND)',\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            }).then(()=>this.props.history.push('/settings/activate'))\n        }else{\n            this.setState({\n                storeId\n            })\n            this.getDiskQuota(storeId)\n            this.getSubscriptions(storeId)\n            this.getPlans(storeId)\n        }\n    }\n\n    render() {\n        let subscriptionsElems = this.state.subscriptions.map((subscription, index) => {\n            return (\n                <Subscription key={subscription.id} subscription={subscription}/>\n            )\n        })\n\n        let plansElems = this.state.plans.map((plan, index) => {\n            return (<Plan key={plan.id} plan={plan} storeId={this.state.storeId}/>)\n        })\n        return (\n            <React.Fragment>\n                <h1 style={{textAlign: 'center'}}>客服中心 <FontAwesomeIcon icon={faHeadphones}/></h1>\n                <Row>\n                    <Col>\n                        <center><Spinner animation={\"border\"} hidden={!this.state.loading}/></center>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col>\n                        <Card className={[\"m-3\", \"p-3\"]}>\n                            <h5>您的店家ID為： <b>{this.state.storeId}</b></h5>\n                            <DiskQuota quota={this.state.quota}/>\n                            <Card className={[\"m-3\", \"p-3\"]}>\n                                您擁有的方案列表\n                                <Table>\n                                    <thead>\n                                    <tr>\n                                        <th>方案名稱</th>\n                                        <th>說明</th>\n                                        <th>儲存容量</th>\n                                        <th>宣傳點數</th>\n                                        <th>到期時間</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                    {subscriptionsElems}\n                                    </tbody>\n                                </Table>\n                            </Card>\n\n                            <Card className={[\"m-3\", \"p-3\"]}>\n                                可購買的方案列表\n                                <div className=\"alert alert-danger\">目前為測試階段請勿付款</div>\n                                <Table>\n                                    <thead>\n                                    <tr>\n                                        <th>方案名稱</th>\n                                        <th>說明</th>\n                                        <th>儲存容量</th>\n                                        <th>宣傳點數</th>\n                                        <th>購買</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                    {plansElems}\n                                    </tbody>\n                                </Table>\n                            </Card>\n                        </Card>\n                    </Col>\n                </Row>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default withRouter(CustomerService)","import React from 'react'\nimport {Button, ButtonGroup, Col, Row, Spinner, Toast, ToastBody, ToastHeader} from \"react-bootstrap\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faStar, faTrash} from '@fortawesome/free-solid-svg-icons'\nimport Cookies from \"universal-cookie/lib\";\nimport {API} from \"../../helpers/API\";\nimport Echo from 'laravel-echo';\nimport axios from \"axios\";\nimport IntroJs from 'intro.js'\nimport 'intro.js/introjs.css';\n\nconst api = new API()\nconst cookies = new Cookies();\nwindow.Pusher = require('pusher-js');\nwindow.Echo = new Echo({\n    broadcaster: 'pusher',\n    wsHost: process.env.REACT_APP_WS_HOST,\n    wsPath: process.env.REACT_APP_WS_PATH,\n    wsPort: process.env.REACT_APP_WS_PORT,\n    disableStats: true,\n    key: 'test',\n    forceTLS: false,\n    authorizer: (channel, options) => {\n        return {\n            authorize: (socketId, callback) => {\n                axios({\n                    method: \"POST\",\n                    url: process.env.REACT_APP_API_ENDPOINT + '/broadcasting/auth',\n                    headers: {\n                        Authorization: `Bearer ${cookies.get('session')}`,\n                    },\n                    data: {\n                        socket_id: socketId,\n                        channel_name: channel.name,\n                    },\n                }).then(response => {\n                    callback(false, response.data);\n                }).catch(error => {\n                    callback(true, error);\n                });\n            }\n        };\n    },\n});\n\nclass SellsTest extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            transactions: [],\n            rating: 1\n        }\n    }\n\n    componentDidMount(props) {\n        let x = new IntroJs()\n        window.scrollTo({top: 0, behavior: 'smooth'})\n        setTimeout(() => {\n            if (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\n                // nope\n            } else {\n                x.start()\n            }\n\n        }, 5000)\n        let storeId = cookies.get('storeId')\n        if (!storeId) {\n            // Out\n        } else {\n            let that = this\n            api.call('/me', {\n                method: \"GET\"\n            }, (r) => {\n                window.Echo.private(`user.${r.id}`)\n                    .listen('.transaction.created', function (e) {\n                        console.log(e)\n                        new Notification(`${e.transaction.id} ${e.transaction?.product?.name}`);\n                        that.setState(prev => ({\n                            transactions: [\n                                e.transaction,\n                                ...prev.transactions\n                            ]\n                        }))\n                    });\n            })\n        }\n    }\n\n    requestNotification() {\n        if (Notification && Notification.permission === \"granted\") {\n            new Notification(\"測試通知\");\n        } else if (Notification && Notification.permission !== \"denied\") {\n            Notification.requestPermission(function (status) {\n                if (Notification.permission !== status) {\n                    Notification.permission = status;\n                }\n                if (status === \"granted\") {\n                    new Notification(\"測試通知\");\n                } else {\n                    alert(\"你不開通知我也不能提醒你\");\n                }\n            });\n        } else {\n            alert(\"你不開通知我也不能提醒你\");\n        }\n    }\n\n    transactionsToast() {\n        return this.state.transactions.map((value, index) => {\n            return (\n                <Toast>\n                    <ToastHeader>\n                        <strong className=\"mr-auto\">({value.id.substring(0, 5)}) {value?.product?.name}</strong>\n                    </ToastHeader>\n                    <ToastBody>\n                        {value?.product?.name} x {value?.qty} <br/>\n                        {value?.product?.description}\n                    </ToastBody>\n                </Toast>\n            )\n        })\n    }\n\n    handleRate(i) {\n        this.setState({\n            rating: i\n        })\n        api.call('/products/:product/rate', {\n            params: {'product': ''}\n        }, (r) => {\n            console.log(r)\n        })\n    }\n\n    rating() {\n        return (\n            <Col>\n                <ButtonGroup>\n                    {[...Array(6).keys()].slice(1).map(i => {\n                        if (i <= this.state.rating)\n                            return (<Button key={i} variant={'primary'} className={[\"text-lg\"]}\n                                            onClick={this.handleRate.bind(this, i)} data-star={i}>\n                                <FontAwesomeIcon icon={faStar}/>\n                            </Button>)\n                        else\n                            return (<Button key={i} variant={'secondary'} className={[\"text-lg\"]}\n                                            onClick={this.handleRate.bind(this, i)} data-star={i}>\n                                <FontAwesomeIcon icon={faStar}/>\n                            </Button>)\n                    })}\n                </ButtonGroup>\n                &nbsp;\n                <Button variant={'danger'} className={[\"text-lg\"]}\n                        onClick={this.handleRate.bind(this, -1)}>\n                    <FontAwesomeIcon icon={faTrash}/>\n                </Button>\n            </Col>\n        )\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <h1 style={{textAlign: 'center'}}>訂單列表 <FontAwesomeIcon icon={faStar}/></h1>\n                <Row>\n                    <Col>\n                        <center><Spinner animation={\"border\"} hidden={!this.state.loading}/></center>\n                    </Col>\n                </Row>\n                <Button data-intro='Hello step one!' onClick={this.requestNotification}>傳送通知</Button>\n                <Row>\n                    {this.rating()}\n                </Row>\n                <Row>\n                    <Col>\n                        {this.transactionsToast()}\n                    </Col>\n                    <Col>\n                        {this.state.transactions.length}{JSON.stringify(this.state.transactions)}\n                    </Col>\n                </Row>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default SellsTest","import React, {useEffect, useRef, useState} from 'react'\r\n\r\nimport {Button, Card, Container, Spinner} from \"react-bootstrap\";\r\nimport Cookies from 'universal-cookie'\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport Echo from \"laravel-echo\";\r\nimport axios from \"axios\";\r\nimport {API} from \"../../helpers/API\";\r\nimport {SnackbarProvider, useSnackbar} from 'notistack';\r\n\r\nconst cookies = new Cookies()\r\nconst api = new API()\r\nwindow.Pusher = require('pusher-js');\r\nwindow.Echo = new Echo({\r\n    broadcaster: 'pusher',\r\n    wsHost: process.env.REACT_APP_WS_HOST,\r\n    wsPath: process.env.REACT_APP_WS_PATH,\r\n    wsPort: process.env.REACT_APP_WS_PORT,\r\n    disableStats: true,\r\n    key: 'test',\r\n    forceTLS: false,\r\n    authorizer: (channel, options) => {\r\n        return {\r\n            authorize: (socketId, callback) => {\r\n                axios({\r\n                    method: \"POST\",\r\n                    url: process.env.REACT_APP_API_ENDPOINT + '/broadcasting/auth',\r\n                    headers: {\r\n                        Authorization: `Bearer ${cookies.get('session')}`,\r\n                    },\r\n                    data: {\r\n                        socket_id: socketId,\r\n                        channel_name: channel.name,\r\n                    },\r\n                }).then(response => {\r\n                    callback(false, response.data);\r\n                }).catch(error => {\r\n                    callback(true, error);\r\n                });\r\n            }\r\n        };\r\n    },\r\n});\r\n\r\nfunction ViewBookedComponent() {\r\n    const [loading, setLoading] = useState(true)\r\n    const [data, setData] = useState({})\r\n    //const [newTrans, setNewTrans] = useState([])\r\n    const initState = useRef(true)\r\n    const {enqueueSnackbar} = useSnackbar();\r\n\r\n    const getData = async () => {\r\n        try {\r\n            api.call('/stores/:id/simpleTransactions', {\r\n                params: {\r\n                    id: cookies.get('storeId')\r\n                }\r\n            }, (res) => {\r\n                console.log(res)\r\n                window.data = res\r\n                setData(res)\r\n            })\r\n            setLoading(false)\r\n        } catch {\r\n            // wrong request or expired session\r\n            // redirect to main page\r\n            cookies.set('alert', '操作錯誤，請重試', {path: '/'})\r\n            document.location.href = '/'\r\n        }\r\n    }\r\n\r\n    function requestNotification() {\r\n        if (Notification && Notification.permission === \"granted\") {\r\n            new Notification(\"測試通知\");\r\n        } else if (Notification && Notification.permission !== \"denied\") {\r\n            Notification.requestPermission(function (status) {\r\n                if (Notification.permission !== status) {\r\n                    Notification.permission = status;\r\n                }\r\n                if (status === \"granted\") {\r\n                    new Notification(\"測試通知\");\r\n                } else {\r\n                    alert(\"你不開通知我也不能提醒你\");\r\n                }\r\n            });\r\n        } else {\r\n            alert(\"你不開通知我也不能提醒你\");\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        function handleWebsockets(e) {\r\n            console.log(e)\r\n            new Notification(`${e.transaction.id} ${e.transaction?.product?.name}`);\r\n            enqueueSnackbar(`新增: (${e.transaction?.product?.id.substring(0, 5)}) ${e.transaction?.product?.name} ${e.transaction?.qty}份`, 'success');\r\n        }\r\n\r\n        if (initState.current) {\r\n            api.call('/me', {\r\n                method: \"GET\"\r\n            }, (r) => {\r\n                window.Echo.private(`user.${r.id}`).listen('.transaction.created', handleWebsockets);\r\n            })\r\n            getData()\r\n            initState.current = false\r\n            window.newMessage = false\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [])\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <center><Spinner animation={\"border\"} hidden={!loading}/></center>\r\n            <center><h1>已訂餐名單</h1></center>\r\n            <Container>\r\n                {\r\n                    data ? Object.keys(data).map((item) =>\r\n                        <Card key={item}>\r\n                            <Card.Body style={{display: \"flex\"}}>\r\n                                <div>\r\n                                    <Card.Title>{data[item].name}</Card.Title>\r\n                                    <Card.Text>{data[item].total}份</Card.Text>\r\n                                </div>\r\n                                <div style={{marginLeft: \"auto\"}}>\r\n                                    <Button variant=\"primary\" as={Link}\r\n                                            to={{pathname: `/booked/detailed/${item}`}}>立即查看</Button>\r\n                                </div>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    ) : <React.Fragment><br/><h2 style={{textAlign: 'center'}}>查無資料</h2></React.Fragment>\r\n                }\r\n                <hr/>\r\n                <Button onClick={requestNotification}>提醒我</Button>\r\n            </Container>\r\n            <br/>\r\n\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default function Viewbooked() {\r\n    const history = useHistory()\r\n    return (\r\n        <SnackbarProvider maxSnack={3}\r\n                          action={(key) => (\r\n                              <Button onClick={() => {\r\n                                  history.go(0)\r\n                              }} variant={\"dark\"}>\r\n                                  重新載入\r\n                              </Button>\r\n                          )}\r\n        >\r\n            <ViewBookedComponent/>\r\n        </SnackbarProvider>\r\n    );\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Card, Col, Container, Row, Spinner} from \"react-bootstrap\";\r\nimport Cookies from 'universal-cookie'\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\r\nimport {faCheck, faTimes, faUserCheck, faUserSlash} from '@fortawesome/free-solid-svg-icons'\r\nimport {Button} from '@material-ui/core'\r\n\r\nexport default function ViewDetailedBooking(props) {\r\n    const [loading, setLoading] = useState(true)\r\n    const [data, setData] = useState([])\r\n    const [productName, setProductName] = useState('')\r\n    const cookies = new Cookies()\r\n    const allcookies = cookies.getAll()\r\n    const [changes, setChanges] = useState(0)\r\n\r\n    const transactions = async () => {\r\n        const url = process.env.REACT_APP_API_ENDPOINT + '/stores/' + allcookies['storeId'] + '/transactions'\r\n        let result = await fetch(url, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                \"Authorization\": `Bearer ${allcookies['session']}`\r\n            }\r\n        })\r\n        const json = await result.json()\r\n        let toReturn = []\r\n\r\n        // eslint-disable-next-line\r\n        json.map(item => {\r\n            if (item['product_id'] === props.match.params.itemId) {\r\n                toReturn.push(item)\r\n            }\r\n        })\r\n        return toReturn\r\n    }\r\n    const getName = async () => {\r\n        const url = process.env.REACT_APP_API_ENDPOINT + '/stores/' + allcookies['storeId'] + '/products'\r\n        let result = await fetch(url, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Authorization': `Bearer ${allcookies['session']}`\r\n            }\r\n        })\r\n        const json = await result.json()\r\n        let foodName = 'temp'\r\n        // eslint-disable-next-line\r\n        json.map((item) => {\r\n            if (item['id'] === props.match.params.itemId) {\r\n                foodName = item['name']\r\n            }\r\n        })\r\n        return foodName\r\n    }\r\n    const getInfo = async () => {\r\n        try {\r\n            const result = await Promise.all([transactions(), getName(props.match.params.itemId)])\r\n\r\n            setLoading(false)\r\n            setProductName(result[1])\r\n            setData(result[0])\r\n            setChanges(0)\r\n            console.log(result[0])\r\n        } catch (err) {\r\n            window.alert(err)\r\n            cookies.set('alert', '讀取錯誤，正在返回首頁', {path: '/'})\r\n            document.location.href = '/'\r\n        }\r\n    }\r\n\r\n    function finished(transaction_id) {\r\n        const url = process.env.REACT_APP_API_ENDPOINT + '/transactions/' + transaction_id\r\n        sendStatus(url, 'OK').then(() => {\r\n            setChanges(changes + 1)\r\n        })\r\n    }\r\n\r\n    function preparing(transaction_id) {\r\n        const url = process.env.REACT_APP_API_ENDPOINT + '/transactions/' + transaction_id\r\n        sendStatus(url, 'PREPARE').then(() => {\r\n            setChanges(changes + 1)\r\n        })\r\n    }\r\n\r\n    function taken(transaction_id) {\r\n        const url = process.env.REACT_APP_API_ENDPOINT + '/transactions/' + transaction_id\r\n        sendStatus(url, 'DONE').then(() => {\r\n            setChanges(changes + 1)\r\n        })\r\n    }\r\n\r\n    function notaken(transaction_id) {\r\n        const url = process.env.REACT_APP_API_ENDPOINT + '/transactions/' + transaction_id\r\n        sendStatus(url, 'NOTAKEN').then(() => {\r\n            setChanges(changes + 1)\r\n        })\r\n    }\r\n\r\n    const sendStatus = async (url, status) => {\r\n        let flag = null\r\n        try {\r\n            const rawData = await fetch(url, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${allcookies['session']}`\r\n                },\r\n                body: JSON.stringify({\r\n                    'status': status\r\n                })\r\n            })\r\n            const parsed = await rawData.json()\r\n            console.log(parsed)\r\n            if (rawData.ok) {\r\n                flag = true\r\n            } else {\r\n                flag = false\r\n            }\r\n        } catch (err) {\r\n            window.alert(`狀態更新失敗：${err}`)\r\n            flag = false\r\n        }\r\n        return flag\r\n    }\r\n\r\n    useEffect(() => {\r\n        getInfo()\r\n        // eslint-disable-next-line\r\n    }, [changes])\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <center>\r\n                <h1>詳細資料</h1>\r\n                <h2>商品名稱：{productName} <Spinner animation={\"border\"} hidden={!loading}/></h2>\r\n            </center>\r\n            <Container>\r\n                {\r\n                    data ? data.map((item) =>\r\n                        <Card key={item.id}>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    <Col xs={10} md={10} lg={10}>\r\n                                        <Card.Title>交易編號：{item.id}</Card.Title>\r\n                                        <Card.Text>備註：{item.comment}</Card.Text>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <Row>\r\n                                            <Button\r\n                                                variant=\"contained\"\r\n                                                color={item.status === 'PREPARE' ? 'secondary' : ''}\r\n                                                onClick={() => {\r\n                                                    preparing(item.id)\r\n                                                }}\r\n                                            >\r\n                                                <FontAwesomeIcon icon={faTimes}/>\r\n                                            </Button>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <Button\r\n                                                variant=\"contained\"\r\n                                                color={item.status === 'OK' ? 'primary' : ''}\r\n                                                onClick={() => {\r\n                                                    finished(item.id)\r\n                                                }}>\r\n                                                <FontAwesomeIcon icon={faCheck}/>\r\n                                            </Button>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <Button\r\n                                                variant=\"contained\"\r\n                                                color={item.status === 'DONE' ? 'primary' : ''}\r\n                                                onClick={() => {\r\n                                                    taken(item.id)\r\n                                                }}>\r\n                                                <FontAwesomeIcon icon={faUserCheck}/>\r\n                                            </Button>\r\n                                        </Row>\r\n                                        <Row>\r\n                                            <Button\r\n                                                variant=\"contained\"\r\n                                                color={item.status === 'NOTAKEN' ? 'secondary' : ''}\r\n                                                onClick={() => {\r\n                                                    notaken(item.id)\r\n                                                }}>\r\n                                                <FontAwesomeIcon icon={faUserSlash}/>\r\n                                            </Button>\r\n                                        </Row>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card.Body>\r\n                        </Card>\r\n                    ) : <React.Fragment><br/><h2 style={{textAlign: 'center'}}>查無資料</h2></React.Fragment>\r\n                }\r\n            </Container>\r\n        </React.Fragment>\r\n    )\r\n}","import {Fragment, useState} from \"react\";\nimport {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from \"@material-ui/core\";\nimport * as FingerprintJS from \"@fingerprintjs/fingerprintjs\";\nimport Cookies from \"universal-cookie/es6\";\nimport {API} from \"../../../helpers/API\";\n\nexport function AskGEO(props) {\n    const [close, setClose] = useState(true);\n    const cookies = new Cookies()\n    const api = new API()\n\n    function handleClose() {\n        setClose(false);\n        navigator.geolocation.getCurrentPosition(geoSuccess, geoError, {\n            enableHighAccuracy: true\n        });\n    }\n\n    function geoSuccess(pos) {\n        if (typeof cookies.get('fingerprint') === 'undefined') {\n            const fpPromise = FingerprintJS.load()\n            ;(async () => {\n                // Get the visitor identifier when you need it.\n                const fp = await fpPromise\n                const result = await fp.get()\n\n                // This is the visitor identifier:\n                const fingerprint = result.visitorId\n                cookies.set('fingerprint', fingerprint)\n                api.call('/log/geo', {\n                    method: \"POST\",\n                    body: {\n                        lat: pos.coords.latitude,\n                        lng: pos.coords.longitude,\n                        fingerprint: fingerprint\n                    }\n                })\n            })()\n        } else {\n            api.call('/log/geo', {\n                method: \"POST\",\n                body: {\n                    lat: pos.coords.latitude,\n                    lng: pos.coords.longitude,\n                    fingerprint: cookies.get('fingerprint')\n                }\n            })\n        }\n    }\n\n    function geoError(err) {\n        alert('位置錯誤')\n    }\n\n    return (\n        <Fragment>\n            <Dialog open={props.open && close} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\">位置</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        請開啟位置權限讓搜尋結果更精準\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        好\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>\n    )\n}","import React, {useEffect, useRef, useState} from 'react'\nimport {Link, useHistory, useLocation} from 'react-router-dom';\nimport {Container} from 'react-bootstrap'\nimport {\n    Box,\n    ButtonBase,\n    Grid,\n    IconButton,\n    LinearProgress,\n    makeStyles,\n    Paper,\n    TextField,\n    Typography\n} from \"@material-ui/core\";\nimport {Rating} from \"@material-ui/lab\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport {API} from \"../../helpers/API\";\nimport {InfoOutlined} from \"@material-ui/icons\";\nimport {green} from \"@material-ui/core/colors\";\nimport Cookies from \"universal-cookie/lib\";\nimport {AskGEO} from \"./QueryComponent/AskGEO\";\nimport * as FingerprintJS from \"@fingerprintjs/fingerprintjs\";\n\nconst cookies = new Cookies();\nconst api = new API();\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    paper: {\n        padding: theme.spacing(2),\n        margin: 'auto',\n        maxWidth: 500,\n    },\n    image: {\n        width: 128,\n        height: 128,\n    },\n    img: {\n        margin: 'auto',\n        display: 'block',\n        maxWidth: '100%',\n        maxHeight: '100%',\n    },\n    miniIcon: {\n        width: 60,\n        height: 60,\n    }\n}));\n\nfunction Result(props) {\n    // props.product\n    /*const style = {\n        height: 32,\n    };*/\n    const classes = useStyles();\n    const history = useHistory();\n    return (\n        <div className={classes.root}>\n            <Paper className={classes.paper} elevation={3}>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} sm container>\n                        <Grid item xs container direction=\"column\" spacing={2}>\n                            <Grid item xs>\n                                <Box fontSize={1} color={green} hidden={!props.product.weight}>\n                                    <InfoOutlined style={{fontSize: 12}}/>\n                                    &nbsp;廣告\n                                </Box>\n                                <Typography style={{cursor: \"pointer\", color: \"green\"}} gutterBottom\n                                            variant=\"h6\"\n                                            as={Link}\n                                            onClick={() => history.push(`/purchase/${props.product.store_id}/${props.product.id}`)}>\n                                    {props?.product?.name}\n                                </Typography>\n                                <Typography variant=\"body2\" gutterBottom>\n                                    {props?.product?.description}\n                                </Typography>\n                                <Typography variant=\"body2\" color=\"textSecondary\">\n                                    {props?.product?.store_name}\n                                </Typography>\n                            </Grid>\n                            <Grid item>\n                                <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\n                                    {\n                                        props.product.weighted_ratings ?\n                                            (<Rating name=\"read-only\" value={parseFloat(props.product.weighted_ratings)}\n                                                     readOnly/>) :\n                                            (<Rating name=\"read-only\" value={parseFloat(props.product.ratings_avg)}\n                                                     readOnly/>)\n                                    }\n                                </Box>\n                            </Grid>\n                        </Grid>\n                        <Grid item>\n                            <Typography variant=\"subtitle1\">{props.product.price}元</Typography>\n                        </Grid>\n                    </Grid>\n                    <Grid item>\n                        <ButtonBase className={classes.image}>\n                            <img className={classes.img} alt={props.product.name}\n                                 src={process.env.REACT_APP_API_HOST + '/' + props.product.image}/>\n                        </ButtonBase>\n                    </Grid>\n                </Grid>\n            </Paper>\n        </div>\n    )\n}\n\nexport default function Query() {\n    const isInitState = useRef(true);\n    const [term, setTerm] = useState('');\n    const [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [askOpen, setAskOpen] = useState(false);\n    //const [showResult, setShowResult] = useState(true);\n    const location = useLocation();\n\n    const getProductQueryResult = React.useCallback((q) => {\n        setLoading(true)\n        let _term;\n        if (typeof q === 'string') {\n            _term = q\n        } else {\n            _term = term\n        }\n        api.call('/products/query', {\n            method: \"POST\",\n            body: {\n                term: _term\n            }\n        }, r => {\n            setProducts(r)\n            setLoading(false)\n        })\n    }, [term])\n\n    useEffect(() => {\n        if (isInitState.current) {\n            isInitState.current = false\n            window.scrollTo({top: 0, behavior: 'smooth'})\n            let searchTerm = (new URLSearchParams(location.search)).get('q');\n            setTerm(searchTerm);\n            getProductQueryResult(searchTerm);\n            navigator.permissions.query({name: 'geolocation'}).then(permission => {\n                if (permission.state === 'granted') {\n                    navigator.geolocation.getCurrentPosition((pos) => {\n                        if (typeof cookies.get('fingerprint') === 'undefined') {\n                            const fpPromise = FingerprintJS.load()\n                            ;(async () => {\n                                const fp = await fpPromise\n                                const result = await fp.get()\n                                const fingerprint = result.visitorId\n                                cookies.set('fingerprint', fingerprint)\n                                api.call('/log/geo', {\n                                    method: \"POST\",\n                                    body: {\n                                        lat: pos.coords.latitude,\n                                        lng: pos.coords.longitude,\n                                        fingerprint: fingerprint\n                                    }\n                                })\n                            })()\n                        } else {\n                            api.call('/log/geo', {\n                                method: \"POST\",\n                                body: {\n                                    lat: pos.coords.latitude,\n                                    lng: pos.coords.longitude,\n                                    fingerprint: cookies.get('fingerprint')\n                                }\n                            })\n                        }\n                    }, (err) => {\n                        alert('位置錯誤!')\n                    }, {\n                        enableHighAccuracy: true\n                    });\n                } else if (typeof cookies.get('lastGEO') === 'undefined' || (cookies.get('lastGEO') && cookies.get('lastGEO') - Date.now() >= 2 * 60 * 60 * 1000)) {\n                    setAskOpen(true)\n                    cookies.set('lastGEO', Date.now())\n                }\n            })\n\n        }\n    }, [location.search, getProductQueryResult])\n\n    function handleTermChange(e) {\n        setTerm(e.target.value)\n    }\n\n    let resultElems = products.map((product, index) => {\n        return (\n            <div key={product.id}>\n                <Result product={product}/>\n                <br/>\n            </div>\n        )\n    })\n    return (\n        <React.Fragment>\n            <LinearProgress hidden={!loading}/>\n            <h1 style={{textAlign: 'center'}}>搜尋結果</h1>\n            <Container>\n                <TextField\n                    id=\"filled-full-width\"\n                    label=\"搜尋食物\"\n                    style={{margin: 8}}\n                    placeholder=\"想吃的東西\"\n                    helperText=\"想吃的東西\"\n                    fullWidth\n                    value={term}\n                    margin=\"normal\"\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                    onChange={handleTermChange}\n                    variant=\"filled\"\n                    InputProps={{\n                        endAdornment:\n                            (<IconButton onClick={getProductQueryResult}>\n                                <SearchIcon/>\n                            </IconButton>)\n                    }}\n                />\n                <h5 style={{textAlign: 'center'}} hidden={loading || products.length !== 0}>目前無相關資料</h5>\n                {resultElems}\n                <AskGEO open={askOpen}/>\n            </Container>\n        </React.Fragment>\n    )\n}","import React from 'react'\nimport PropTypes from 'prop-types';\nimport {Box, IconButton, makeStyles, Tab, Tabs, TextField, Typography} from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nfunction TabPanel(props) {\n    const {children, value, index, ...other} = props;\n\n    return (\n        <div\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`vertical-tabpanel-${index}`}\n            aria-labelledby={`vertical-tab-${index}`}\n            {...other}\n        >\n            {value === index && (\n                <Box p={3}>\n                    <Typography>{children}</Typography>\n                </Box>\n            )}\n        </div>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n    return {\n        id: `vertical-tab-${index}`,\n        'aria-controls': `vertical-tabpanel-${index}`,\n    };\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        height: 224,\n    },\n    tabs: {\n        borderRight: `1px solid ${theme.palette.divider}`,\n    },\n}));\n\nexport default function DeveloperSettings() {\n    const classes = useStyles();\n    const [value, setValue] = React.useState(0);\n    //const [apiToken, setApiToken] = React.useState('')\n    const apiToken = ''\n    const handleChange = (event, newValue) => {\n        setValue(newValue);\n    };\n\n    return (\n        <React.Fragment>\n            <h1 style={{textAlign: \"center\"}}>開發者設定</h1>\n            <div className={classes.root}>\n                <Tabs\n                    orientation=\"vertical\"\n                    variant=\"scrollable\"\n                    value={value}\n                    onChange={handleChange}\n                    aria-label=\"Vertical tabs example\"\n                    className={classes.tabs}\n                >\n                    <Tab label=\"Session 設定\" {...a11yProps(0)} />\n                    <Tab label=\"Item Two\" {...a11yProps(1)} />\n                    <Tab label=\"Item Three\" {...a11yProps(2)} />\n                    <Tab label=\"Item Four\" {...a11yProps(3)} />\n                    <Tab label=\"Item Five\" {...a11yProps(4)} />\n                    <Tab label=\"Item Six\" {...a11yProps(5)} />\n                    <Tab label=\"Item Seven\" {...a11yProps(6)} />\n                </Tabs>\n                <TabPanel value={value} index={0}>\n                    設定設定\n                    <br/>\n                    <TextField id=\"term\" value={apiToken}\n                               label=\"API Token\" variant=\"outlined\" size=\"small\"\n                               InputProps={{\n                                   endAdornment:\n                                       (<IconButton onClick={this.searchProduct}>\n                                           <SearchIcon/>\n                                       </IconButton>)\n                               }}/>\n                </TabPanel>\n                <TabPanel value={value} index={1}>\n                    Item Two\n                </TabPanel>\n                <TabPanel value={value} index={2}>\n                    Item Three\n                </TabPanel>\n                <TabPanel value={value} index={3}>\n                    Item Four\n                </TabPanel>\n                <TabPanel value={value} index={4}>\n                    Item Five\n                </TabPanel>\n                <TabPanel value={value} index={5}>\n                    Item Six\n                </TabPanel>\n                <TabPanel value={value} index={6}>\n                    Item Seven\n                </TabPanel>\n            </div>\n        </React.Fragment>\n    );\n}","import React, {useEffect, useRef, useState} from 'react'\n//import {useLocation} from 'react-router-dom';\nimport {Box, Button, CircularProgress, Grid, LinearProgress, Paper, TextField, Typography} from \"@material-ui/core\";\nimport {API} from \"../../helpers/API\";\nimport Swal from \"sweetalert2\";\nimport {Alert} from \"@material-ui/lab\";\n\nconst api = new API();\nconst LEVEL = [\n    // 訂一餐 100積分\n    // 填資料 500積分\n    // 預估 3000積分 門檻\n    {\n        min: 0,\n        max: 100,\n        name: \"一般會員\",\n        color: \"#eddcad\"\n    },\n    {\n        min: 101,\n        max: 249,\n        name: \"綠星會員\",\n        color: \"#44f2a4\"\n    },\n    {\n        min: 250,\n        max: 599,\n        name: \"綠鑽會員\",\n        color: \"#b1f0d4\"\n    },\n    {\n        min: 600,\n        max: 1000,\n        name: \"藍星會員\",\n        color: \"#4a98ff\"\n    },\n    {\n        min: 1001,\n        max: 1999,\n        name: \"藍鑽會員\",\n        color: \"#aec4e6\"\n    },\n    {\n        min: 2000,\n        max: 3449,\n        name: \"銀星會員\",\n        color: \"#d9d9d9\"\n    },\n    {\n        min: 3500,\n        max: 9999,\n        name: \"金星會員\",\n        color: \"#ece00a\"\n    }\n]\nexport default function Profile() {\n    const [loading, setLoading] = useState(true)\n    const [userLevel, setUserLevel] = useState(0)\n    const [phoneErrorText, setPhoneErrorText] = useState('');\n    const phoneInputRef = useRef(HTMLInputElement);\n    const TWphoneRegex = /^09\\d{2}-?\\d{3}-?\\d{3}$/;\n    //let location = useLocation();\n\n    const callFunction = async () => {\n        setLoading(true)\n        await api.call('/user/level', {}, (r) => setUserLevel(r.level))\n        await api.call('/user/data', {}, (r) => {\n            phoneInputRef.current.value = r.phone;\n\n            setLoading(false)\n        })\n\n    }\n\n    useEffect(() => {\n        callFunction().then()\n    }, [])\n\n    function CircularProgressWithLabel(props) {\n        return (\n            <Box position=\"relative\" display=\"inline-flex\"\n                 border={1} className={\"m-3 pt-2\"} borderRadius={5}>\n                <CircularProgress variant=\"determinate\"\n                                  style={{color: props.color}}\n                                  value={((props.credit - props.levelMin) / (props.levelMax - props.levelMin)) * 100}\n                                  size={props.size || '8rem'}/>\n                <Box\n                    top={0}\n                    left={0}\n                    bottom={0}\n                    right={0}\n                    position=\"absolute\"\n                    display=\"flex\"\n                    alignItems=\"center\"\n                    justifyContent=\"center\"\n                    flexDirection=\"column\"\n                >\n                    <Typography variant=\"caption\" component=\"div\" color=\"textPrimary\">\n                        {`${props.levelName}`}\n                    </Typography>\n\n                    <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">\n                        {`${Math.round(props.credit)}/${Math.round(props.levelMax)}`}\n                    </Typography>\n                </Box>\n            </Box>\n        );\n    }\n\n    function makeLevel(level) {\n        let elem;\n        LEVEL.every(function (LEV, index) {\n            if (LEV.min <= level && level <= LEV.max) {\n                elem = (\n                    <CircularProgressWithLabel credit={level} levelMin={LEV.min} levelMax={LEV.max} levelName={LEV.name}\n                                               color={LEV.color}/>\n                );\n                return false\n            } else {\n                return true\n            }\n        })\n        return elem;\n    }\n\n    function updateUserData() {\n        if (!phoneInputRef.current.value.match(TWphoneRegex)) {\n            return setPhoneErrorText('請輸入正確的手機號碼')\n        }\n\n        api.call('/user/data', {\n            method: \"POST\",\n            body: {\n                phone: phoneInputRef.current.value\n            }\n        }, (r) => {\n            if (r.levelUp) {\n                Swal.fire({\n                    title: '成功!',\n                    text: '填寫完畢，已贈送會員積分',\n                    icon: 'success',\n                    confirmButtonText: 'Ok'\n                })\n            }\n            if (r.status === 'success') {\n                setPhoneErrorText('')\n            }\n            callFunction().then()\n        })\n    }\n\n    return (\n        <React.Fragment>\n            <LinearProgress hidden={!loading}/>\n\n            <h1 style={{textAlign: 'center'}}>個人檔案</h1>\n\n            <Grid container>\n                <Grid item xs={12}>\n                    <Paper elevation={3} className={'m-3 p-3'}>\n                        {makeLevel(userLevel)}\n                    </Paper>\n                    <Paper elevation={3} className={'m-3 p-3'}>\n                        <Alert severity=\"info\">補齊會員資料就可以獲得會員積分獎勵喔~</Alert>\n                        <TextField className={'m-3'} label={'您的手機'} inputRef={phoneInputRef}\n                                   error={phoneErrorText !== ''} helperText={phoneErrorText}\n                                   variant={'standard'} InputLabelProps={{shrink: true}}/>\n                        <br/>\n                        <Button className={\"m-3\"} onClick={updateUserData} variant=\"contained\"\n                                color=\"primary\">更新</Button>\n                    </Paper>\n                </Grid>\n            </Grid>\n        </React.Fragment>\n    )\n}","import React, {useEffect, useRef} from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport {HashRouter, Route, Switch} from 'react-router-dom'\n\nimport OfflineDetect from \"./components/offlineDetect\";\nimport Navibar from \"./components/navigationbar\";\nimport Notification from \"./components/Notification\";\nimport Footer from \"./components/footer\";\n\nimport Homepage from './page/main'\nimport Login from './page/login'\nimport Purchase from './page/customer/purchase'\nimport Order from './page/customer/order'\nimport Settings from './page/settings'\nimport Restaurant from './page/customer/restaurant'\nimport Histories from './page/customer/history'\nimport StoreSetting from './page/sells/store'\nimport MenuSetting from './page/sells/menu'\nimport Advanced from './page/sells/advanced'\nimport CodeOfConduct from \"./page/codeofconduct\"\nimport Privacy from './page/privacy'\nimport Signup from './page/signup'\nimport Feedback from './page/feedback';\nimport NewMenu from './page/sells/newmenu'\nimport NewOption from './page/sells/newoption'\nimport CustomerService from \"./page/sells/service\";\nimport SellsTest from \"./page/sells/test\";\nimport ViewBooked from './page/sells/viewbooked'\nimport ViewDetailedBooking from './page/sells/viewdetailedbooking'\nimport Query from \"./page/customer/query\";\nimport DeveloperSettings from \"./page/developerSettings\";\nimport * as FingerprintJS from \"@fingerprintjs/fingerprintjs\";\nimport {API} from \"./helpers/API\";\nimport Profile from \"./page/customer/profile\";\nimport Cookies from \"universal-cookie/lib\";\n\nconst api = new API()\nconst cookies = new Cookies()\nfunction App() {\n    const initState = useRef(true);\n    //const location = useLocation();\n    useEffect(() => {\n        if (initState.current) {\n            const fpPromise = FingerprintJS.load()\n\n            ;(async () => {\n                // Get the visitor identifier when you need it.\n                const fp = await fpPromise\n                const result = await fp.get()\n\n                // This is the visitor identifier:\n                const fingerprint = result.visitorId\n                cookies.set('fingerprint', fingerprint)\n                api.call('/log', {\n                    method: \"POST\",\n                    body: {\n                        fingerprint,\n                        location: window.location.href\n                    }\n                })\n            })()\n\n            initState.current = false;\n        }\n    })\n\n    return (\n        <HashRouter>\n            <OfflineDetect/>\n            <Navibar/>\n            <Notification/>\n            <Switch>\n                <Route path=\"/login\" component={Login}/>\n                <Route path=\"/booked/detailed/:itemId\" component={ViewDetailedBooking}/>\n                <Route path=\"/booked\" component={ViewBooked}/>\n                <Route path=\"/query\" component={Query}/>\n                <Route path='/profile' component={Profile}/>\n                <Route path=\"/restaurant\" component={Restaurant}/>\n                <Route path=\"/settings\" component={Settings}/>\n                <Route path=\"/purchase/:store/:product\" component={Purchase}/>\n                <Route path=\"/order/:storeId\" component={Order}/>\n                <Route path=\"/history\" component={Histories}/>\n                <Route path=\"/service\" component={CustomerService}/>\n                <Route path=\"/sells/test\" component={SellsTest}/>\n                <Route path='/config/new/option' component={NewOption}/>\n                <Route path=\"/config/store\" component={StoreSetting}/>\n                <Route path=\"/config/menu/new\" component={NewMenu}/>\n                <Route path=\"/config/menu\" component={MenuSetting}/>\n                <Route path=\"/config/advanced/:product\" component={Advanced}/>\n                <Route path=\"/privacy\" component={Privacy}/>\n                <Route path=\"/COC\" component={CodeOfConduct}/>\n                <Route path=\"/signup\" component={Signup}/>\n                <Route path=\"/feedback\" component={Feedback}/>\n                <Route path=\"/dev\" component={DeveloperSettings}/>\n                <Route path=\"/\" component={Homepage}/>\n            </Switch>\n            <Footer/>\n        </HashRouter>\n\n  )\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n//import * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n//import {register} from \"./serviceWorkerRegistration\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\n//serviceWorkerRegistration.register({\n//     onUpdate: registration =>{\n//         alert('New version discovered! Ready to update?')\n//         if(registration && registration.waiting){\n//             registration.waiting.postMessage({type: 'SKIP_WAITING'})\n//         }\n//         window.location.reload()\n//     }\n// });\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}