{"version":3,"sources":["components/offlineDetect.js","components/navigationbar.js","components/Notification.js","components/footer.js","components/carousel.js","serviceWorkerRegistration.js","components/pwa updater.js","page/main.js","components/googleOauth.js","page/login.js","components/customers/foodcontent.js","page/customer/purchase.js","components/listfood.js","page/customer/order.js","settings.js","components/settingsOption.js","components/settingconfiguration/settingConfigure.js","page/settings.js","components/liststore.js","page/customer/restaurant.js","page/customer/history.js","page/sells/store.js","components/menuoption.js","components/sells/listaddedfood.js","page/sells/menu.js","page/sells/advanced.js","page/codeofconduct.js","page/privacy.js","components/signupblock.js","page/signup.js","page/feedback.js","page/sells/newmenu.js","page/sells/newoption.js","App.js","reportWebVitals.js","index.js"],"names":["OfflineDetect","polling","url","config","style","textAlign","className","React","Component","Navibar","props","combination","Cookies","getAll","send","push","state","isGoogle","isSells","isLoggedIn","username","toHello","this","Fragment","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","id","Nav","Link","NavDropdown","title","Item","rel","target","onClick","cookies","remove","set","path","window","location","replace","Notification","alert","alertSentence","Footer","Container","Row","Col","to","Carousels","Carousel","src","alt","Caption","isLocalhost","Boolean","hostname","match","register","navigator","URL","process","origin","addEventListener","swUrl","fetch","headers","then","response","contentType","get","status","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","PwaUpdater","useState","showReload","setShowReload","reloadPage","a","serviceWorkerRegistration","useEffect","waiting","postMessage","type","Snackbar","open","message","anchorOrigin","vertical","horizontal","action","Button","color","size","Homepage","scrollTo","top","behavior","GoogleOauth","googleCloudPlatformIdActual","responseGoogle","google_response","JSON","stringify","data","method","body","Headers","ok","json","text","res","Error","parse","undefined","profileObj","givenName","err","clientId","buttonText","onFailure","hostedDomain","cookiePolicy","Login","placeholder","email","document","getElementById","passwd","value","search","baseURL","loginResponse","meUrl","FoodContent","setTitle","picture","setPicture","price","setPrice","description","setDescription","comment","setComment","history","useHistory","store","product","Swal","fire","icon","confirmButtonText","allcookies","getData","Figure","Image","width","resizeMode","lg","TextareaAutosize","rows","onChange","event","display","marginLeft","variant","confirmText","confirm","html","Purchase","params","ListFood","setData","loading","setLoading","parsedUrl","split","myJson","i","length","map","item","Card","Img","picUrl","Body","Title","name","Text","as","pathname","storeId","Spinner","animation","hidden","Order","setting","configuration","SettingsOption","SettingConfigure","urlSelected","collection","init","selected","Settings","xs","ListStore","Restaurant","Histories","StoreSetting","MenuOption","MenuSetting","Advanced","CodeofConduct","toBeReplace","RegExp","titleUrl","innerHTML","ptitle","createElement","textContent","appendChild","updateTime","innerText","Privacy","Signupblock","required","passwdVerify","token","setState","Signup","Feedback","Form","Group","Label","Control","question","toSend","FormData","append","mode","ToolBar","popupUrl","aria-hidden","MenuConfigurator","image","setImage","uploading","setUploading","imageUrl","setImageUrl","subtitle","postURL","onSubmit","e","preventDefault","Send","evt","reader","FileReader","file","files","onload","upload","result","formData","readAsDataURL","NewMenu","NewOption","array","index","node","App","component","CodeOfConduct","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.69b51602.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Offline} from \"react-detect-offline\";\r\n\r\nimport config from '../config.json'\r\n\r\nclass OfflineDetect extends React.Component{\r\n    render(){\r\n        const polling = {url: config['docRoot']+'status.json'}\r\n        return(\r\n            <Offline polling={polling}>\r\n                <p style={{textAlign: 'center'}} className=\"p-3 mb-2 bg-danger text-white\">離線中，請檢察您的連線狀況</p>\r\n            </Offline>\r\n        )\r\n    }\r\n}\r\n\r\nexport default OfflineDetect","import React from 'react'\r\n\r\nimport {\r\n    Navbar,\r\n    Nav,\r\n    NavDropdown,\r\n} from 'react-bootstrap'\r\n\r\nimport Cookies from 'universal-cookie'\r\n\r\nclass Navibar extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        const cookies = new Cookies()\r\n        const combination = cookies.getAll()\r\n        let send = []\r\n        combination['isGoogle'] ? send.push(true):send.push(false)\r\n        combination['isSells'] ? send.push(true):send.push(false)\r\n        combination['session'] ? send.push(true):send.push(false)\r\n        this.state = {\r\n            isGoogle: send[0],\r\n            isSells: send[1],\r\n            isLoggedIn: send[2],//!cookies.get('loggedin') || true\r\n            username: combination['userName'] || \"Anonymous\",\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const signOut = ()=>{\r\n            //normal account signout\r\n            //window.alert('logging out')\r\n            //remove cookie\r\n            const cookies = new Cookies()\r\n            cookies.remove('id')\r\n            cookies.remove('isGoogle')\r\n            cookies.remove('isSells')\r\n            cookies.remove('session')\r\n            cookies.remove('userName')\r\n            cookies.remove('storeId')\r\n            cookies.remove('name')\r\n            cookies.set('alert','登出成功',{path: '/'})\r\n            //reload page\r\n            window.location.replace('/')\r\n        }\r\n        const toHello = \"嗨! \"+this.state.username\r\n        return(\r\n            <React.Fragment>\r\n                <Navbar bg=\"light\" expand=\"lg\">\r\n                    <Navbar.Brand href=\"/\">美廣訂餐系統</Navbar.Brand>\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                        <Nav className=\"mr-auto\">\r\n                            <Nav.Link href=\"#/restaurant\">餐廳</Nav.Link>\r\n                            {this.state.isSells && <NavDropdown title=\"店家管理\" id=\"basic-nav-dropdown\">\r\n                                <NavDropdown.Item href=\"#/config/store\">商家設定</NavDropdown.Item>\r\n                                <NavDropdown.Item href=\"#/config/menu\">菜單設定</NavDropdown.Item>\r\n                            </NavDropdown>}\r\n                            <NavDropdown title=\"相關連結\" id=\"basic-nav-dropdown\">\r\n                                <NavDropdown.Item href=\"https://sites.google.com/view/tnfshsu/\" rel=\"noreferrer noopener\" target=\"_blank\">學聯會</NavDropdown.Item>\r\n                                <NavDropdown.Item href=\"https://tnfsacec.github.io\" rel=\"noreferrer noopener\" target=\"_blank\">選委會</NavDropdown.Item>\r\n                            </NavDropdown>\r\n                        </Nav>\r\n                        {this.state.isLoggedIn ? <NavDropdown title={toHello} id=\"basic-nav-dropdown\">\r\n                                <NavDropdown.Item href=\"#/history\">歷史紀錄</NavDropdown.Item>\r\n                                <NavDropdown.Item href=\"#/settings\">設定</NavDropdown.Item>\r\n                                <NavDropdown.Item onClick={signOut}>登出</NavDropdown.Item>\r\n                            </NavDropdown>\r\n                            :\r\n                            <Nav>\r\n                                <Nav.Link href=\"#/signup\">註冊</Nav.Link>\r\n                                <Nav.Link href=\"#/login\">登入</Nav.Link>\r\n                            </Nav>}\r\n                    </Navbar.Collapse>\r\n                </Navbar>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navibar","import React from 'react'\r\n\r\nimport Cookies from \"universal-cookie\";\r\nimport config from '../config.json'\r\n\r\nclass Notification extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let send = []\r\n        const cookies = new Cookies()\r\n        const combination = cookies.getAll()\r\n        combination['alert'] ? send.push(true) : send.push(false)\r\n        this.state = {\r\n            alert: send[0],\r\n            alertSentence: combination['alert']\r\n        }\r\n    }\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        const cookies = new Cookies()\r\n        cookies.remove('alert')\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                {\r\n                    this.state.alert &&\r\n                    <p className=\"p-3 mb-2 bg-success text-white\">\r\n                        {this.state.alertSentence}\r\n                    </p>\r\n                }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\nimport {Col, Container, Row} from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\";\r\nimport config from \"../config.json\";\r\n\r\nclass Footer extends React.Component{\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <br />\r\n                <div className={\"p-3 mb-2 bg-dark text-white \"}>\r\n                    <Container>\r\n                        <br />\r\n                        <Row>\r\n                            <Col>\r\n                                <Link to=\"/privacy\">隱私權聲明</Link><br />\r\n                                <Link to=\"/COC\">行為準則</Link><br />\r\n                                <Link to=\"/feedback\">意見反饋</Link>\r\n                            </Col>\r\n                            <Col>\r\n                                關於我們：<br />\r\n                                <a href='https://sivir.pw' rel=\"noreferrer noopener\" target='_blank'>Alias722</a>、\r\n                                <a href='https://hsuan.app/' rel=\"noreferrer noopener\" target='_blank'>Hsuan1117</a>、\r\n                                <a href='https://neodoggy.github.io/' rel=\"noreferrer noopener\" target='_blank'>Neodoggy</a>\r\n                                <br/>\r\n                                <br/>\r\n                                <span>version: {config['version']}</span>\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nimport Carousel from 'react-bootstrap/Carousel'\r\n\r\nclass Carousels extends React.Component{\r\n    render(){\r\n        return(\r\n            <Carousel>\r\n                <Carousel.Item>\r\n                    <img\r\n                        className=\"d-block w-100\"\r\n                        src=\"https://media.wired.com/photos/598e35fb99d76447c4eb1f28/master/pass/phonepicutres-TA.jpg\"\r\n                        alt=\"First slide\"\r\n                    />\r\n                    <Carousel.Caption>\r\n                        <h3>First slide label</h3>\r\n                        <p>對不起我盜圖</p>\r\n                    </Carousel.Caption>\r\n                </Carousel.Item>\r\n                <Carousel.Item>\r\n                    <img\r\n                        className=\"d-block w-100\"\r\n                        src=\"https://media.wired.com/photos/598e35fb99d76447c4eb1f28/master/pass/phonepicutres-TA.jpg\"\r\n                        alt=\"Second slide\"\r\n                    />\r\n                    <Carousel.Caption>\r\n                        <h3>Second slide label</h3>\r\n                        <p>對不起我盜圖</p>\r\n                    </Carousel.Caption>\r\n                </Carousel.Item>\r\n                <Carousel.Item>\r\n                    <img\r\n                        className=\"d-block w-100\"\r\n                        src=\"https://media.wired.com/photos/598e35fb99d76447c4eb1f28/master/pass/phonepicutres-TA.jpg\"\r\n                        alt=\"Third slide\"\r\n                    />\r\n                    <Carousel.Caption>\r\n                        <h3>Third slide label</h3>\r\n                        <p>對不起我盜圖</p>\r\n                    </Carousel.Caption>\r\n                </Carousel.Item>\r\n            </Carousel>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Carousels","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport { Snackbar, Button } from '@material-ui/core';\r\nimport * as serviceWorkerRegistration from '../serviceWorkerRegistration';\r\n\r\nexport default function PwaUpdater(){\r\n    const [showReload, setShowReload] = useState(false)\r\n    //const [waitingWorker, setWaitingWorker] = useState<ServiceWorker | null>(null)\r\n\r\n    const onSWUpdate = () => {\r\n        serviceWorkerRegistration.register({\r\n            onUpdate: registration =>{\r\n                window.alert('發現新版本！！！ 點此立即更新')\r\n                if(registration && registration.waiting){\r\n                    registration.waiting.postMessage({type: 'SKIP_WAITING'})\r\n                }\r\n                window.location.reload()\r\n            }\r\n        });\r\n    }\r\n    async function reloadPage (){\r\n        await serviceWorkerRegistration.register({})\r\n        setShowReload(false)\r\n        window.location.reload(true)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        onSWUpdate()\r\n    },[])\r\n\r\n    return(\r\n        <Snackbar\r\n            open={showReload}\r\n            message=\"A new version is available!\"\r\n            onClick={reloadPage}\r\n            anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n            action={\r\n                <Button\r\n                    color=\"inherit\"\r\n                    size=\"small\"\r\n                    onClick={reloadPage}\r\n                >\r\n                    Reload\r\n                </Button>\r\n            }\r\n        />\r\n    )\r\n}","import React from 'react'\r\nimport Carousels from '../components/carousel'\r\nimport PWAUpdater from '../components/pwa updater'\r\n\r\n\r\nimport {\r\n\tContainer,\r\n} from 'react-bootstrap'\r\n\r\nclass Homepage extends React.Component{\r\n\tcomponentDidMount() {\r\n\t\twindow.scrollTo({top: 0,behavior: 'smooth'})\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<PWAUpdater />\r\n\t\t\t\t\t{/*<Picture />*/}\r\n\t\t\t\t\t<Carousels/>\r\n\t\t\t\t</Container>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Homepage\r\n","import React from 'react'\r\n\r\nimport GoogleLogin from 'react-google-login'\r\nimport Cookies from 'universal-cookie'\r\nimport config from '../config.json'\r\n\r\nclass GoogleOauth extends React.Component {\r\n    render() {\r\n        const googleCloudPlatformIdActual = config['googleCloudPlatformId'] + \".apps.googleusercontent.com\"\r\n        const responseGoogle = (google_response) => {\r\n            console.log(JSON.stringify(google_response))\r\n            // send request to backend\r\n            let data = {\r\n                'token': google_response['accessToken'],\r\n            }\r\n\r\n            const url = config['baseURL'] + 'google'\r\n            fetch(url, {\r\n                method: 'POST',\r\n                body: JSON.stringify(data),\r\n                headers: new Headers({\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                })\r\n            }).then(response => {\r\n                if (response.ok) {\r\n                    return response.json()\r\n                }\r\n                return response.text().then(res => {\r\n                    throw new Error(res)\r\n                })\r\n            }).catch((error) => {\r\n                console.log(error.message)\r\n                let response = JSON.parse(error.message)\r\n                window.alert(\r\n                    `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\r\n                )\r\n            }).then((response) => {\r\n                // add cookies\r\n                if(google_response['profileObj']['givenName'] === undefined){\r\n                    return\r\n                }\r\n                const cookies = new Cookies()\r\n                cookies.set('session', response['access_token'], {path: '/'})\r\n                cookies.set('isGoogle', 'true', {path: '/'})\r\n                cookies.set('alert', '登入成功', {path: '/'})\r\n                cookies.set('userName', google_response?.profileObj?.givenName, {path: '/'})\r\n\r\n                window.location.replace('/')\r\n            }).catch(err=>{\r\n                console.log(`Failed: ${err}`)\r\n            })\r\n        };\r\n        return (\r\n            <>\r\n                <GoogleLogin\r\n                    clientId={googleCloudPlatformIdActual}\r\n                    buttonText=\"使用 Google 登入\"\r\n                    onSuccess={responseGoogle}\r\n                    onFailure={responseGoogle}\r\n                    hostedDomain={config['gmailSuffix']}\r\n                    cookiePolicy={\"single_host_origin\"}\r\n                    //uxMode={\"redirect\"}\r\n                    //redirectUri={config['project']}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GoogleOauth\r\n","import React from 'react'\r\n//import Signinblock from \"../components/signinblock\";\r\nimport {Col, Container, Row} from \"react-bootstrap\";\r\nimport GoogleOauth from \"../components/googleOauth\";\r\nimport config from \"../config.json\";\r\nimport Cookies from \"universal-cookie\";\r\nimport {Link} from 'react-router-dom'\r\n\r\nclass Login extends React.Component{\r\n\tcomponentDidMount() {\r\n\t\twindow.scrollTo({top: 0,behavior: 'smooth'})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst Send = ()=>{\r\n\t\t\tconst email = document.getElementById('userInputEmail')\r\n\t\t\tconst passwd = document.getElementById('userInputPasswd')\r\n\r\n\t\t\tlet emailRule = /^\\w+((-\\w+)|(\\.\\w+))*@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/\r\n\t\t\t//validate ok or not\r\n\t\t\tif (email.value.search(emailRule) === -1) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t//send request\r\n\t\t\tlet data = {\r\n\t\t\t\t'email': email.value,\r\n\t\t\t\t'password': passwd.value,\r\n\t\t\t}\r\n\t\t\tlet url = config.baseURL + 'login'\r\n\t\t\tfetch(url,{\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: JSON.stringify(data),\r\n\t\t\t\theaders: new Headers({\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t})\r\n\t\t\t}).then(response => {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\treturn response.json()\r\n\t\t\t\t}\r\n\t\t\t\treturn response.text().then(res => {\r\n\t\t\t\t\tthrow new Error(res)\r\n\t\t\t\t})\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\tconsole.log(error.message)\r\n\t\t\t\tlet response = JSON.parse(error.message)\r\n\t\t\t\twindow.alert(`${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`)\r\n\t\t\t}).then(response => {\r\n\t\t\t\t// add cookies\r\n\t\t\t\tconst cookies = new Cookies()\r\n\t\t\t\tcookies.set('session', response['access_token'], {path: '/'})\r\n\t\t\t\tcookies.set('alert', '登入成功', {path: '/'})\r\n\t\t\t\treturn response\r\n\t\t\t}).catch(err=>{\r\n\t\t\t\tconsole.log(`Failed: ${err}`)\r\n\t\t\t}).then(loginResponse =>{\r\n\t\t\t\t//get account information\r\n\t\t\t\tconst meUrl = config['baseURL'] + 'me'\r\n\t\t\t\tfetch(meUrl,{\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders:{\r\n\t\t\t\t\t\t\"Accept\": \"application/json\",\r\n\t\t\t\t\t\t\"Authorization\": `Bearer ${loginResponse['access_token']}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(response=>{\r\n\t\t\t\t\tif(response.ok){\r\n\t\t\t\t\t\treturn response.json()\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn response.text().then(err =>{\r\n\t\t\t\t\t\tthrow new Error(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(error=>{\r\n\t\t\t\t\tconsole.log(error.message)\r\n\t\t\t\t\tlet response = JSON.parse(error.message)\r\n\t\t\t\t\twindow.alert(`${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`)\r\n\t\t\t\t}).then(response=>{\r\n\t\t\t\t\tconst cookies = new Cookies()\r\n\t\t\t\t\tcookies.set('name',response['name'],{path:'/'})\r\n\t\t\t\t\tcookies.set('id',response['id'],{path:'/'})\r\n\t\t\t\t\tcookies.set('isSells',true,{path:'/'})\r\n\t\t\t\t\tif(response['stores'][0] !== undefined){\r\n\t\t\t\t\t\tcookies.set('storeId',response['stores'][0]['id'],{path:'/'})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdocument.location.replace('/')\r\n\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<form className={\"signInBlock\"}>\r\n\t\t\t\t\t\t<h3 style={{textAlign: 'center'}}>登入</h3>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<label>電子郵件</label>\r\n\t\t\t\t\t\t\t<input id=\"userInputEmail\" type=\"email\" className=\"form-control\" placeholder=\"Enter email\" />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<label>密碼</label>\r\n\t\t\t\t\t\t\t<input id=\"userInputPasswd\" type=\"password\" className=\"form-control\" placeholder=\"Enter password\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col />\r\n\t\t\t\t\t\t\t<Col />\r\n\t\t\t\t\t\t\t<Col><Link className=\"btn btn-primary btn-block\" onClick={Send}>Submit</Link></Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<label>其他登入方式？</label>\r\n\t\t\t\t\t\t<div className={\"otherLoginMethod\"} >\r\n\t\t\t\t\t\t\t<GoogleOauth />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Container>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login","import React, {useEffect, useState} from 'react'\r\nimport config from '../../config.json'\r\nimport {Container, Row, Col, Figure, Button} from 'react-bootstrap'\r\nimport {useHistory} from 'react-router-dom'\r\nimport Cookies from 'universal-cookie'\r\nimport Swal from 'sweetalert2'\r\nimport {TextareaAutosize} from \"@material-ui/core\";\r\n\r\nexport default function FoodContent(props) {\r\n    const [title, setTitle] = useState('')\r\n    const [picture, setPicture] = useState('')\r\n    const [price, setPrice] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [comment, setComment] = useState('')\r\n    const history = useHistory()\r\n    const URL = config['baseURL'] + 'stores/' + props.store + '/products/' + props.product;\r\n\r\n    async function getData() {\r\n        fetch(URL, {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Accept\": \"application/json\",\r\n            }\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                return response.json()\r\n            }\r\n            return response.text().then(err => {\r\n                throw new Error(err)\r\n            })\r\n        }).then(response => {\r\n            //console.log(response)\r\n            setPrice(response['price'])\r\n            setDescription(response['description'])\r\n            setTitle(response['name'])\r\n            setPicture(response['image'])\r\n        }).catch(error => {\r\n            //console.log(error.message)\r\n            let response = JSON.parse(error.message)\r\n            Swal.fire({\r\n                title: '錯誤!',\r\n                text: `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`,\r\n                icon: 'error',\r\n                confirmButtonText: 'Ok'\r\n            }).then(() => history.push('/'))\r\n        })\r\n    }\r\n\r\n    const cookies = new Cookies()\r\n    const allcookies = cookies.getAll()\r\n\r\n    function Send() {\r\n        const confirmText =\r\n            `請確認您的訂購資訊\r\n名稱：${title}\r\n售價：${price}\r\n其他建議：(功能未開放)\r\n按 OK 送出；cancel 取消`\r\n        if (window.confirm(confirmText)) {\r\n            //window.alert('Ok')\r\n            // send transaction\r\n            const url = config['baseURL'] + 'transactions'\r\n            fetch(url, {\r\n                method: 'POST',\r\n                body: JSON.stringify({\r\n                    \"name\": title,\r\n                    \"qty\": 1,\r\n                    \"store_id\": props.store,\r\n                    \"product_id\": props.product,\r\n                    \"comment\": comment,\r\n                    \"options\": {}\r\n                }),\r\n                headers: {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": `Bearer ${allcookies['session']}`\r\n                }\r\n            }).then(response => {\r\n                if (response.ok) {\r\n                    return response.json()\r\n                }\r\n                return response.text().then(res => {\r\n                    throw new Error(res)\r\n                })\r\n            }).then((res) => {\r\n                // Transaction Made\r\n                Swal.fire({\r\n                    title: '訂購成功!',\r\n                    html: (\r\n                        `感謝您利用本系統訂購產品<br>` +\r\n                        `請記得於選取時間取餐，謝謝<br>` +\r\n                        `您的交易ID為： <b>${res.id}</b>`),\r\n                    icon: 'success',\r\n                    confirmButtonText: 'Ok'\r\n                }).then(() => history.push('/'))\r\n            }).catch((error) => {\r\n                // Transaction Error\r\n                console.log(error)\r\n                let response = JSON.parse(error.message)\r\n                Swal.fire({\r\n                    title: '錯誤!',\r\n                    text: `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`,\r\n                    icon: 'error',\r\n                    confirmButtonText: 'Ok'\r\n                }).then(() => history.push('/'))\r\n            })\r\n        } else {\r\n            // fallback to center\r\n            Swal.fire({\r\n                title: '錯誤!',\r\n                text: `訂單未成立`,\r\n                icon: 'error',\r\n                confirmButtonText: 'Ok'\r\n            }).then()\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getData()\r\n    })\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Container>\r\n                <br/>\r\n                <Row>\r\n                    <Col>\r\n                        <Figure>\r\n                            <Figure.Caption className={\"text-center\"}>\r\n                                {title}\r\n                            </Figure.Caption>\r\n                            <Figure.Image\r\n                                width={300}\r\n                                alt=\"餐點的照片\"\r\n                                src={config['baseURL'].replace(/\\/api/,'') + picture}\r\n                                resizeMode=\"contain\"\r\n                            />\r\n                        </Figure>\r\n                    </Col>\r\n                    <Col>{description}</Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                    <Col>\r\n                        <h5>建議售價：{price}</h5>\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col lg={9}>\r\n                        <TextareaAutosize className=\"form-control\" placeholder=\"留言\" rows=\"5\"\r\n                                          onChange={event => setComment(event.target.value)}\r\n                                          value={comment}/>\r\n                    </Col>\r\n                    <Col lg={3}>\r\n                        <div style={{display: \"flex\"}}>\r\n                            <div style={{marginLeft: \"auto\"}}>\r\n                                <Button variant=\"primary\" onClick={Send}>訂購</Button>\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n            </Container>\r\n        </React.Fragment>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport FoodContent from '../../components/customers/foodcontent'\r\n\r\nclass Purchase extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>訂餐</h1>\r\n                {/*餐點內容*/}\r\n                <FoodContent store={this.props.match.params.store} product={this.props.match.params.product}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Purchase","import React, {useState, useEffect} from 'react'\r\n\r\nimport config from '../config.json'\r\n\r\nimport {\r\n    Card,\r\n    Button, Spinner\r\n} from 'react-bootstrap'\r\nimport {parse} from \"@fortawesome/fontawesome-svg-core\";\r\nimport {Link, useHistory} from \"react-router-dom\";\r\n\r\nfunction ListFood() {\r\n    const [data, setData] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const windowUrl = window.location.href\r\n    const parsedUrl = windowUrl.split('/')\r\n    const history = useHistory();\r\n    const getData = () => {\r\n        const url = config['baseURL'] + \"stores/\" + parsedUrl[5] + '/products'\r\n        fetch(url, {\r\n            method: 'GET'\r\n        }).then(response => {\r\n            setLoading(false)\r\n            if (response.ok) {\r\n                return response.json()\r\n            }\r\n            return response.text().then(res => {\r\n                throw new Error(res)\r\n            })\r\n        }).catch((error) => {\r\n            console.log(error.message)\r\n            let response = JSON.parse(error.message)\r\n            window.alert(\r\n                `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\r\n            )\r\n            history.push('/login')\r\n        }).then(myJson => {\r\n            console.log(myJson)\r\n            for (let i = 0; i < myJson.length; ++i) {\r\n                myJson[i]['storeId'] = parsedUrl[5]\r\n            }\r\n            setData(myJson)\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        getData()\r\n    }, [])\r\n    return (\r\n        <div className=\"ListStore\">\r\n            {\r\n                data && (data.length > 0 ? data.map((item) =>\r\n                    <Card>\r\n                        <Card.Img variant=\"top\" src={item.picUrl}/>\r\n                        <Card.Body style={{display: \"flex\"}}>\r\n                            <div>\r\n                                <Card.Title>{item.name}</Card.Title>\r\n                                <Card.Text>{item.description}</Card.Text>\r\n                            </div>\r\n                            <div style={{marginLeft: \"auto\"}}>\r\n                                <Button variant=\"primary\" as={Link}\r\n                                        to={{pathname: `/purchase/${item.storeId}/${item.id}`}}>立即訂購</Button>\r\n                            </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                ) : <React.Fragment><br/><h2 style={{textAlign: 'center'}}>目前無相關資料</h2></React.Fragment>)\r\n            }\r\n            <center>\r\n                <Spinner animation={\"border\"} hidden={!loading}/>\r\n            </center>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListFood","import React from 'react'\r\nimport ListFood from '../../components/listfood'\r\n\r\nclass Order extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>吃什麼</h1>\r\n                <ListFood />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Order","import config from \"./config.json\"\r\nimport Cookies from 'universal-cookie'\r\n\r\nfunction getUserId() {\r\n    const cookies = new Cookies()\r\n    const collection = cookies.getAll()\r\n    return collection['id']\r\n}\r\n\r\nexport const setting = [\r\n    {\r\n        \"name\": \"啟動商店功能\",\r\n        \"url\": \"/settings/activate\"\r\n        //what to do\r\n\r\n    },\r\n    {\r\n        \"name\": \"變更商店名\",\r\n        \"url\": \"/settings/change_name\"\r\n    },\r\n    {\r\n        \"name\": \"變更密碼\",\r\n        \"url\": \"/settings/change_password\"\r\n    }\r\n]\r\n\r\nexport const configuration = {\r\n    \"change_name\": {\r\n        \"title\": \"變更商店名\",\r\n        \"hint\": \"請輸入商店名\",\r\n        \"placeholder\": \"新商店名\",\r\n        \"submitUri\": config['baseURL'] + 'stores',\r\n        \"method\": \"PUT\",\r\n    },\r\n    \"change_password\": {\r\n        \"title\": \"變更密碼\",\r\n        \"hint\": \"請輸入新密碼\",\r\n        \"placeholder\": \"新密碼\",\r\n        \"submitUri\": config['baseURL'] + 'change_password',\r\n        \"method\": \"POST\",\r\n        \"return\": [\"newpassword\"]\r\n    },\r\n    \"activate\": {\r\n        \"title\": \"啟動商店功能\",\r\n        \"hint\": \"請輸入商店名\",\r\n        \"placeholder\": \"商店名\",\r\n        \"submitUri\": config['baseURL'] + 'stores',\r\n        \"method\": \"POST\",\r\n        \"return\": [\"name\"]\r\n    }\r\n}","import React from 'react'\r\nimport {\r\n    Link,\r\n} from 'react-router-dom'\r\nimport {Card} from \"react-bootstrap\";\r\nimport {setting} from '../settings.js'\r\n\r\n\r\nfunction SettingsOption(){\r\n    return(\r\n        setting.map((item)=>\r\n            <Card>\r\n                <Card.Body style={{display:\"flex\"}}>\r\n                    <div>\r\n                        <Link to={item.url}>{item.name}</Link>\r\n                    </div>\r\n                </Card.Body>\r\n            </Card>\r\n        )\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default SettingsOption","import React from 'react'\r\n\r\nimport {configuration} from \"../../settings\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nclass SettingConfigure extends React.Component{\r\n    render(){\r\n        const browserUrl = document.location.href\r\n        const splitUrl = browserUrl.split('/')\r\n        const urlSelected = splitUrl[5]\r\n\r\n        const Send = ()=>{\r\n            const cookies = new Cookies()\r\n            const collection = cookies.getAll()\r\n            if(!collection['session']){\r\n                window.alert(`Session expired`)\r\n                document.location.replace('/')\r\n            }\r\n            let init = {\r\n                method: configuration[urlSelected]['method'],\r\n                headers:{\r\n                    \"Accept\": \"application/json\",\r\n                    \"Authorization\": `Bearer ${collection['session']}`,\r\n                    \"Content-Type\": \"application/json\"\r\n                }\r\n            }\r\n            if(configuration[urlSelected]['method'] === 'POST'){\r\n                let data = {}\r\n                for(let i = 0;i < configuration[urlSelected]['return'].length;++i){\r\n                    let selected = document.getElementById('userInput')\r\n                    data[configuration[urlSelected][\"return\"][i]] = selected.value\r\n                }\r\n                init['body'] = JSON.stringify(data)\r\n            }\r\n\r\n            fetch(configuration[urlSelected]['submitUri'],init).then(response=>{\r\n                if(response.ok){\r\n                    return response.json()\r\n                }\r\n                return response.text().then(err =>{\r\n                    throw new Error(err)\r\n                })\r\n            }).catch(error=>{\r\n                console.log(error.message)\r\n                let response = JSON.parse(error.message)\r\n                window.alert(`${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`)\r\n            }).then(response=>{\r\n                console.log(response)\r\n                window.alert('更新成功')\r\n                document.location.reload()\r\n            })\r\n        }\r\n\r\n        return(\r\n            <React.Fragment>\r\n                {configuration[urlSelected] &&\r\n                <React.Fragment><h2>{configuration[urlSelected]['title']}</h2>\r\n                    <div className=\"form-group\">\r\n                    <label>{configuration[urlSelected]['hint']}</label>\r\n                    <input id='userInput' type='text' className='form-control' placeholder={configuration[urlSelected]['placeholder']} />\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-primary btn-block\" onClick={Send}>確認</button>\r\n                </React.Fragment>}\r\n                {!configuration[urlSelected] && urlSelected && <h2>請輸入合法功能</h2>}\r\n                {!configuration[urlSelected] && !urlSelected && <h2>請選取左邊功能以繼續</h2>}\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SettingConfigure\r\n","import React from 'react'\r\nimport {Container, Row,Col} from \"react-bootstrap\";\r\n\r\nimport SettingOption from '../components/settingsOption'\r\nimport SettingConfigure from '../components/settingconfiguration/settingConfigure'\r\n\r\nclass Settings extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>設定</h1>\r\n                <Container>\r\n                    <Row>\r\n                        <Col xs={3}>\r\n                            <SettingOption />\r\n                        </Col>\r\n                        <Col xs={7}>\r\n                            <SettingConfigure/>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Settings","import React,{useState,useEffect} from 'react'\r\n\r\nimport config from '../config.json'\r\n\r\nimport {\r\n    Card,\r\n    Button, Spinner\r\n} from 'react-bootstrap'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nfunction ListStore(){\r\n    const [data,setData] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const getData = ()=>{\r\n        const url = config['baseURL'] + 'stores'\r\n        console.log(url)\r\n        fetch(url,{\r\n            method: 'GET'\r\n        }).then(response => {\r\n            setLoading(false)\r\n            if (response.ok) {\r\n                return response.json()\r\n            }\r\n            return response.text().then(res => {\r\n                throw new Error(res)\r\n            })\r\n        }).catch((error) => {\r\n            console.log(error.message)\r\n            let response = JSON.parse(error.message)\r\n            window.alert(\r\n                `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\r\n            )\r\n            window.location.replace('#/login')\r\n        }).then(myJson =>{\r\n            console.log(myJson)\r\n            setData(myJson)\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n        getData()\r\n    },[])\r\n    return(\r\n        <div className=\"ListStore\">\r\n            {\r\n                data && (data.length > 0 ? data.map((item)=>\r\n                    <Card>\r\n                        <Card.Img variant=\"top\" src={item.picUrl} />\r\n                        <Card.Body style={{display:\"flex\"}}>\r\n                            <div>\r\n                                <Card.Title>{item.name}</Card.Title>\r\n                                <Card.Text>{item.description}</Card.Text>\r\n                            </div>\r\n                            <div style={{marginLeft:\"auto\"}}>\r\n                                <Button variant=\"primary\" as={Link} to={{pathname:`/order/${item.id}`}}>立即查看</Button>\r\n                            </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                ) : <React.Fragment><br/><h2 style={{textAlign: 'center'}}>目前無相關資料</h2></React.Fragment>)\r\n            }\r\n            <center>\r\n                <Spinner animation={\"border\"} hidden={!loading}/>\r\n            </center>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListStore","import React from 'react'\r\n\r\nimport Liststore from '../../components/liststore'\r\nimport {\r\n    Container\r\n} from 'react-bootstrap'\r\n\r\nclass Restaurant extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>餐廳</h1>\r\n                <Container>\r\n                    <Liststore />\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Restaurant","import React from 'react'\r\n\r\nclass Histories extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>歷史紀錄</h1>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Histories","import React from 'react'\r\n\r\nclass StoreSetting extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>商家設定</h1>\r\n\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default StoreSetting","import React from 'react'\r\n\r\nimport {Link} from 'react-router-dom'\r\n\r\nclass MenuOption extends React.Component{\r\n    render() {\r\n        return (\r\n            <div className=\"optionBar\">\r\n                <ul>\r\n                    <li><Link to=\"/config/menu/new\">新增</Link></li>\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MenuOption","import React, {useEffect, useState} from 'react'\r\nimport {Button, Card} from \"react-bootstrap\";\r\nimport config from \"../../config.json\";\r\nimport Cookies from 'universal-cookie'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function (){\r\n    const [data,setData] = useState([])\r\n    const cookies = new Cookies()\r\n    const allcookies = cookies.getAll()\r\n    const getData = ()=>{\r\n        const url = config['baseURL'] + 'stores/'+ allcookies['storeId'] + '/products'\r\n        fetch(url,{\r\n            method: 'GET',\r\n            headers:{\r\n                \"Accept\": \"application/json\"\r\n            }\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                return response.json()\r\n            }\r\n            return response.text().then(res => {\r\n                throw new Error(res)\r\n            })\r\n        }).catch((error) => {\r\n            console.log(error.message)\r\n            let response = JSON.parse(error.message)\r\n            window.alert(\r\n                `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\r\n            )\r\n            window.location.replace('#/login')\r\n        }).then(myJson =>{\r\n            console.log(myJson)\r\n            setData(myJson)\r\n        })\r\n    }\r\n    useEffect(()=>{\r\n        getData()\r\n    },[])\r\n    return(\r\n        <div className=\"storeAdded\">\r\n            {\r\n                data && data.length>0 && data.map((item)=>\r\n                    <Card>\r\n                        <Card.Img variant=\"top\" src={item.picUrl} />\r\n                        <Card.Body style={{display:\"flex\"}}>\r\n                            <div>\r\n                                <Card.Title>{item.name}</Card.Title>\r\n                                <Card.Text>{item.description}</Card.Text>\r\n                            </div>\r\n                            <div style={{marginLeft:\"auto\"}}>\r\n                                <Button variant=\"primary\" as={Link} to={{pathname:`/order/${item.id}`}}>修改</Button>\r\n                            </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport MenuOption from '../../components/menuoption'\r\nimport {Container} from \"react-bootstrap\";\r\nimport ListAddedFood from '../../components/sells/listaddedfood'\r\n\r\nclass MenuSetting extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>菜單設定</h1>\r\n                <Container>\r\n                    <MenuOption />\r\n                    <br />\r\n                    <ListAddedFood />\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MenuSetting","import React from 'react'\r\n\r\nclass Advanced extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>進階設定</h1>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Advanced\r\n\r\n","import React from 'react'\r\nimport {Container} from \"react-bootstrap\";\r\nimport config from \"../config.json\"\r\n\r\nclass CodeofConduct extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n        // eslint-disable-next-line\r\n        let toBeReplace = new RegExp(\"\\n\", \"g\")\r\n        const titleUrl = config['docRoot'] + \"title.json\"\r\n        fetch(titleUrl).then(response =>{\r\n            return response.json()\r\n        }).then(json=>{\r\n            let title = document.getElementById('title')\r\n            title.innerHTML = json['title']\r\n        })\r\n        const url = config['docRoot'] + \"coc.json\"\r\n\r\n        fetch(url)\r\n            .then(response => {\r\n                return response.json()\r\n            }).then(json => {\r\n                for (let i = 0; i < json['title'].length; ++i) {\r\n                    let ptitle = document.createElement('H2')\r\n                    ptitle.textContent = json['title'][i]\r\n\r\n                    document.getElementById('COC').appendChild(ptitle)\r\n                    document.getElementById('COC').innerHTML += \"<p>\" + json['context'][i].replace(toBeReplace, \"<br>\") + \"</p>\"\r\n                }\r\n                let updateTime = document.createElement('H3')\r\n                updateTime.innerText = \"最後更新日期：\"+json['date']\r\n                document.getElementById('COC').appendChild(updateTime)\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>行為準則</h1>\r\n                <Container>\r\n                    <br />\r\n                    <p id=\"title\" />\r\n                    <div id=\"COC\" />\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CodeofConduct","import React from 'react'\r\nimport {Container} from \"react-bootstrap\";\r\nimport config from \"../config.json\"\r\n\r\n\r\nclass Privacy extends React.Component{\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0,behavior: 'smooth'})\r\n        // eslint-disable-next-line\r\n        let toBeReplace = new RegExp(\"\\n\",\"g\")\r\n        let titleUrl = config['docRoot'] + \"title.json\"\r\n\r\n        fetch(titleUrl)\r\n            .then(response =>{\r\n                return response.json()\r\n            }).then(json =>{\r\n                let title = document.getElementById('title')\r\n                title.innerHTML = json['title']\r\n            })\r\n\r\n        let url = config['docRoot'] + \"privacy.json\"\r\n\r\n        fetch(url)\r\n            .then(response => {\r\n                return response.json()\r\n            }).then(json => {\r\n                for (let i = 0; i < json['title'].length; ++i) {\r\n                    let ptitle = document.createElement('H2')\r\n                    ptitle.textContent = json['title'][i]\r\n\r\n                    document.getElementById('policy').appendChild(ptitle)\r\n                    document.getElementById('policy').innerHTML += \"<p>\" + json['context'][i].replace(toBeReplace, \"<br>\") + \"</p>\"\r\n                }\r\n                let updateTime = document.createElement('H3')\r\n                updateTime.innerText = \"最後更新日期：\"+json['date']\r\n                document.getElementById('policy').appendChild(updateTime)\r\n            })\r\n\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>隱私權聲明</h1>\r\n                <Container>\r\n                    <br />\r\n                    <p id=\"title\" />\r\n                    <div id='policy' />\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Privacy","import React from 'react'\r\nimport {Col, Container, Row} from \"react-bootstrap\";\r\nimport Cookies from 'universal-cookie'\r\nimport config from '../config.json'\r\n//import LoadingSpinner from '../components/loadingspinner'\r\nimport {Link} from 'react-router-dom'\r\n\r\nclass Signupblock extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const Send = ()=> {\r\n            const passwd = document.getElementById('userInputPasswd')\r\n            const passwdVerify = document.getElementById('userInputPasswdVerification')\r\n            const email = document.getElementById('userInputEmail')\r\n            const token = document.getElementById('activateToken')\r\n            const username = document.getElementById('username')\r\n\r\n            //verify inputs\r\n            if (!(passwd.value && passwdVerify.value && email.value && token.value && username.value)) {\r\n                return\r\n            }\r\n\r\n            //verify and password is not the same\r\n            if (passwd.value !== passwdVerify.value) {\r\n                window.alert('密碼與密碼驗證不符')\r\n                //empty the input box\r\n                passwd.value = ''\r\n                passwdVerify.value = ''\r\n                return\r\n            }\r\n\r\n            //verify email\r\n            let emailRule = /^\\w+((-\\w+)|(\\.\\w+))*@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/\r\n            //validate ok or not\r\n            if (email.value.search(emailRule) === -1) {\r\n                return\r\n            }\r\n\r\n            //send things to server\r\n            let data = {\r\n                'email': email.value,\r\n                'name': username.value,\r\n                'password': passwd.value,\r\n                'registration_code': token.value\r\n            }\r\n\r\n            let url = config.baseURL + 'register'\r\n            //send request\r\n            this.setState({\r\n                loading: true\r\n            })\r\n            fetch(url,{\r\n                method: 'POST',\r\n                body: JSON.stringify(data),\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json',\r\n                }\r\n            }).then(response => {\r\n                if (response.ok) {\r\n                    return response.json()\r\n                }\r\n                return response.text().then(res => {\r\n                    throw new Error(res)\r\n                })\r\n            }).catch((error) => {\r\n                console.log(error.message)\r\n                let response = JSON.parse(error.message)\r\n                window.alert(\r\n                    `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\r\n                )\r\n                this.setState({loading: false})\r\n            }).then(response => {\r\n                // add cookies\r\n                const cookies = new Cookies()\r\n                //cookies.set('session', response['access_token'], {path: '/'})\r\n                cookies.set('alert', '註冊成功', {path: '/'})\r\n                window.location.replace('/login')\r\n                this.setState({loading: false})\r\n            }).catch(err=>{\r\n                console.log(`Failed: ${err}`)\r\n                this.setState({loading: false})\r\n            }).then(this.setState(\r\n                {loading: false\r\n                }))\r\n\r\n        }\r\n\r\n        return(\r\n            <React.Fragment>\r\n            <Container>\r\n                <form className={\"signInBlock\"}>\r\n                    <h3 style={{textAlign: 'center'}}>帳號註冊</h3>\r\n                    <div className=\"form-group\">\r\n                        <label>啟動碼</label>\r\n                        <input id=\"activateToken\" type=\"text\" className=\"form-control\" placeholder=\"Enter the activate code\" required/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>電子郵件</label>\r\n                        <input id=\"userInputEmail\" type=\"email\" className=\"form-control\" placeholder=\"Enter email\" required/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>密碼</label>\r\n                        <input id=\"userInputPasswd\" type=\"password\" className=\"form-control\" placeholder=\"Enter password\" required/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>密碼確認</label>\r\n                        <input id=\"userInputPasswdVerification\" type=\"password\" className=\"form-control\" placeholder=\"Enter password\" required/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>使用者名稱</label>\r\n                        <input id=\"username\" type=\"text\" className=\"form-control\" placeholder=\"Enter the username\" required/>\r\n                    </div>\r\n\r\n                    <Row>\r\n                        <Col></Col>\r\n                        <Col></Col>\r\n                        <Col>{this.state.loading? <Link className=\"btn btn-primary btn-block\" type=\"submit\">請稍後</Link>:<Link className=\"btn btn-primary btn-block\" type='submit' onClick={Send}>送出</Link>}</Col>\r\n                    </Row>\r\n                </form>\r\n            </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Signupblock","import React from 'react'\r\nimport Signupblock from \"../components/signupblock\";\r\n\r\nclass Signup extends React.Component{\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <Signupblock />\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Signup","import React from 'react'\r\n\r\nimport {\r\n    Button,\r\n    Container,\r\n    Form\r\n} from 'react-bootstrap'\r\nimport Cookies from \"universal-cookie\";\r\n\r\nclass Feedback extends React.Component{\r\n    render() {\r\n        const Send = () => {\r\n            //send form\r\n            // data to send\r\n            let name = document.getElementById('nickName')\r\n            let question = document.getElementById('question')\r\n\r\n            if(name.value === ''){\r\n                return\r\n            }\r\n            if(question.value === ''){\r\n                return\r\n            }\r\n\r\n            let toSend = new FormData()\r\n            toSend.append('entry.1239005013',name.value)\r\n            toSend.append('entry.664971969',question.value)\r\n\r\n            //link to send\r\n            const url = 'https://docs.google.com/forms/u/0/d/e/1FAIpQLSdppxPAZlPuLMgelWDJ1wP6fIB4vScvivNrn3BZ9g7etGklCA/formResponse'\r\n\r\n            fetch(url,{\r\n                method: 'POST',\r\n                mode: 'no-cors',\r\n                body: toSend\r\n            }).then(response=>{\r\n                if(response.ok){\r\n                    return response.json()\r\n                }\r\n                return response.text().then(res => {\r\n                    throw new Error(res)\r\n                })\r\n            }).catch(err=>{\r\n                console.log(err.message)\r\n                let response = JSON.parse(err.message)\r\n                window.alert(\r\n                    `${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`\r\n                )\r\n                return\r\n            }).then(json=>{\r\n                window.alert('message sent')\r\n                console.log(json)\r\n            })\r\n            window.alert('已經收到你的訊息了\\n我們將會努力改進')\r\n            const cookies = new Cookies()\r\n            cookies.set('alert','傳送成功',{path:'/'})\r\n            document.location.replace('#/feedback')\r\n        }\r\n        return (\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>意見反饋</h1>\r\n                <Container>\r\n                    <Form>\r\n                        <Form.Group>\r\n                            <Form.Label>暱稱：</Form.Label>\r\n                            <Form.Control id='nickName' type=\"text\" placeholder=\"小/大明\" required/>\r\n                            <Form.Text className=\"text-muted\">\r\n                                我們絕對不會因為你的暱稱很智障就不理你\r\n                            </Form.Text>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>問題：</Form.Label>\r\n                            <Form.Control as=\"textarea\" rows='5' id='question' required/>\r\n                        </Form.Group>\r\n\r\n                        <Button variant=\"primary\" type=\"submit\" onClick={Send}>\r\n                            送出\r\n                        </Button>\r\n                    </Form>\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Feedback","import React, {useState} from 'react'\r\nimport {Button, Col, Container, Figure, ProgressBar, Row, Spinner} from \"react-bootstrap\";\r\nimport config from \"../../config.json\";\r\nimport Cookies from \"universal-cookie\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nclass ToolBar extends React.Component {\r\n    render() {\r\n        const NewOption = () => {\r\n            const popupUrl = config['project'] + '#/config/new/option'\r\n            const popupWindow = window.open(popupUrl,/*'popUpWindow',*/'', 'location=no,height=500,width=400,top=100,left=300')\r\n            popupWindow.body = \"功能未開放\"\r\n        }\r\n        return (\r\n            <div className=\"optionBar\">\r\n                <ul>\r\n                    <li><Button variant=\"dark\" onClick={NewOption}><i className=\"fa fa-plus\"\r\n                                                                      aria-hidden=\"true\"/>新增選項</Button></li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction MenuConfigurator() {\r\n    //const [storeId,setStoreId] = useState('')\r\n    const [image, setImage] = useState('')\r\n    const [uploading, setUploading] = useState(false)\r\n    const [imageUrl, setImageUrl] = useState('')\r\n    const history = useHistory();\r\n    const cookies = new Cookies()\r\n    let allcookies = cookies.getAll()\r\n    const storeId = allcookies['storeId']\r\n\r\n    async function Send() {\r\n        const name = document.getElementById('foodTitle').value\r\n        const subtitle = document.getElementById('foodSub').value\r\n        const price = document.getElementById('foodPrice').value\r\n        const postURL = config['baseURL'] + 'stores/' + storeId + '/products'\r\n\r\n        var data = {\r\n            'name': name,\r\n            'price': price,\r\n            'description': subtitle,\r\n            'store_id': storeId,\r\n            \"image\": imageUrl\r\n        }\r\n        //window.alert(postURL)\r\n        await fetch(postURL, {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                \"Accept\": \"application/json\",\r\n                \"Authorization\": `Bearer ${allcookies['session']}`\r\n            }\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                return response.json()\r\n            }\r\n            return response.text().then(res => {\r\n                throw new Error(res)\r\n            })\r\n        }).catch((error) => {\r\n            console.log(error.message)\r\n            let response = JSON.parse(error.message)\r\n            window.alert(`${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`)\r\n        }).then(response => {\r\n            console.log(response)\r\n            history.push('/config/menu')\r\n        })\r\n    }\r\n\r\n    function handleChangeImage(evt) {\r\n        console.log(\"Uploading\");\r\n        const storeId = allcookies['storeId']\r\n        var reader = new FileReader();\r\n        var file = evt.target.files[0];\r\n\r\n        reader.onload = function (upload) {\r\n            console.log(file)\r\n            setImage(upload.target.result);\r\n            const formData = new FormData()\r\n            formData.append('image', file)\r\n            setUploading(true)\r\n            fetch(config['baseURL'] + 'stores/' + storeId + '/images', {\r\n                method: 'POST',\r\n                headers: {\r\n                    \"Accept\": \"application/json\",\r\n                    \"Authorization\": `Bearer ${allcookies['session']}`\r\n                },\r\n                body: formData\r\n            }).then(response => {\r\n                if (response.ok) {\r\n                    return response.json()\r\n                }\r\n                return response.text().then(res => {\r\n                    throw new Error(res)\r\n                })\r\n            }).catch((error) => {\r\n                console.log(error.message)\r\n                let response = JSON.parse(error.message)\r\n                window.alert(`${response.message}\\n與伺服器連線錯誤，請再試一次\\n如果問題無法解決，請聯絡管理員`)\r\n            }).then(response => {\r\n                console.log(typeof response)\r\n                //window.alert(response)\r\n                setImageUrl(response.result.data)\r\n                setUploading(false)\r\n            })\r\n        };\r\n        reader.readAsDataURL(file);\r\n        console.log(\"Uploaded\");\r\n    }\r\n\r\n    return (\r\n        <form\r\n            className={\"foodBlock\"}\r\n            onSubmit={e => {\r\n                e.preventDefault()\r\n                Send()\r\n            }}\r\n        >\r\n            <div className=\"form-group\">\r\n                <label>食物名</label>\r\n                <input id=\"foodTitle\" type=\"text\" className=\"form-control\" placeholder=\"標題\" required/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label>價錢</label>\r\n                <input id=\"foodPrice\" type=\"number\" className=\"form-control\" placeholder=\"價錢\" required/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label>副標題</label>\r\n                <input id=\"foodSub\" type=\"text\" className=\"form-control\" placeholder=\"副標(選填)\"/>\r\n            </div>\r\n            <Row>\r\n                <Col>\r\n                    <div className=\"form-group\">\r\n                        <Button as={\"label\"} variant={\"primary\"} hidden={imageUrl!==''}>\r\n                            上傳圖片\r\n                            <input type=\"file\" name=\"file\"\r\n                                   className=\"upload-file\"\r\n                                   id=\"file\"\r\n                                   onChange={handleChangeImage}\r\n                                   required\r\n                                   hidden\r\n                            />\r\n                        </Button>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <Col>\r\n                    <center>\r\n                        <Spinner hidden={uploading===false} animation={\"border\"}/>\r\n                        <br/>\r\n                        <a href={config['baseURL'].replace(/\\/api/,'') + imageUrl} target=\"_blank\" hidden={!image || uploading } rel=\"noreferrer\">{config['baseURL'].replace(/\\/api/,'') + imageUrl}</a>\r\n                        <br/>\r\n                        <Figure.Image\r\n                            width={300}\r\n                            src={image && !uploading ? config['baseURL'].replace(/\\/api/,'') + imageUrl : \"https://via.placeholder.com/300x180?text=Product+Image\"}\r\n                            resizeMode=\"contain\"\r\n                        />\r\n                    </center>\r\n                </Col>\r\n            </Row>\r\n            <Row>\r\n                <div className=\"h-100 align-items-center\">\r\n                    <div id=\"placeToAdd\"/>\r\n                </div>\r\n            </Row>\r\n            <Row>\r\n                <Col>\r\n                    <button className=\"btn btn-primary btn-block\">送出</button>\r\n                </Col>\r\n            </Row>\r\n        </form>\r\n    )\r\n}\r\n\r\nclass NewMenu extends React.Component {\r\n    componentDidMount() {\r\n        window.scrollTo({top: 0, behavior: 'smooth'})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <h1 style={{textAlign: 'center'}}>新增菜單</h1>\r\n                <Container>\r\n                    <ToolBar/>\r\n                    <br/>\r\n                    <MenuConfigurator/>\r\n                </Container>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewMenu","import React, {useEffect, useState} from 'react'\r\nimport {Button, Card,Container} from \"react-bootstrap\";\r\nimport {Link} from 'react-router-dom'\r\n\r\nfunction NewOption(){\r\n    const [array,setArray] = useState([])\r\n    const [data,setData] = useState([])\r\n    const inputOption = document.getElementById('inputOption')\r\n\r\n    const deleteFile = (node) => {\r\n        window.alert(node)\r\n    }\r\n    const newOption = () =>{\r\n        if(inputOption.value !== ''){\r\n            if(array.length === 0){\r\n                setArray([inputOption.value])\r\n            }else{\r\n                let temp = array\r\n                temp.push(inputOption.value)\r\n                setArray(temp)\r\n            }\r\n            inputOption.value = ''\r\n        }else{\r\n            window.alert('輸入不得為空')\r\n        }\r\n    }\r\n\r\n    const getData = ()=>{\r\n        setData(array)\r\n    }\r\n    useEffect(()=>{\r\n        getData()\r\n    },[array])\r\n\r\n    return(\r\n        <React.Fragment>\r\n            <h1 style={{textAlign: 'center'}}>選項設定</h1>\r\n            <Container>\r\n                <form >\r\n                    <div className=\"form-group\">\r\n                        <label>新選項</label>\r\n                        <input id=\"inputOption\" type=\"text\" className=\"form-control\" placeholder=\"選項名\" />\r\n                    </div>\r\n                    <Button className=\"btn btn-primary btn-block\">新增</Button>\r\n                </form>\r\n\r\n                <br />\r\n                {\r\n                    data.map((name,index) => {\r\n                        return(\r\n                            <Card key={name}>\r\n                                <Card.Body style={{display:\"flex\"}}>\r\n                                    <div>\r\n                                        <Card.Title>{name}</Card.Title>\r\n                                    </div>\r\n                                    <div style={{marginLeft:\"auto\"}}>\r\n                                        <Button variant=\"primary\" onClick={() => deleteFile(index)}>刪除</Button>\r\n                                    </div>\r\n                                </Card.Body>\r\n                            </Card>\r\n                    )})\r\n                }\r\n            </Container>\r\n\r\n\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default NewOption","import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport {HashRouter,Switch,Route} from 'react-router-dom'\r\n\r\nimport OfflineDetect from \"./components/offlineDetect\";\r\nimport Navibar from \"./components/navigationbar\";\r\nimport Notification from \"./components/Notification\";\r\nimport Footer from \"./components/footer\";\r\n\r\nimport Homepage from './page/main'\r\nimport Login from './page/login'\r\nimport Purchase from './page/customer/purchase'\r\nimport Order from './page/customer/order'\r\nimport Settings from './page/settings'\r\nimport Restaurant from './page/customer/restaurant'\r\nimport Histories from './page/customer/history'\r\nimport StoreSetting from './page/sells/store'\r\nimport MenuSetting from './page/sells/menu'\r\nimport Advanced from './page/sells/advanced'\r\nimport CodeOfConduct from \"./page/codeofconduct\"\r\nimport Privacy from './page/privacy'\r\nimport Signup from './page/signup'\r\nimport Feedback from './page/feedback';\r\nimport NewMenu from './page/sells/newmenu'\r\nimport NewOption from './page/sells/newoption'\r\n\r\nfunction App() {\r\n  return (\r\n      <HashRouter>\r\n          <OfflineDetect />\r\n          <Navibar />\r\n          <Notification />\r\n        <Switch>\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route path=\"/restaurant\" component={Restaurant} />\r\n            <Route path=\"/settings\" component={Settings} />\r\n            <Route path=\"/purchase/:store/:product\" component={Purchase} />\r\n            <Route path=\"/order/:id\" component={Order} />\r\n            <Route path=\"/history\" component={Histories} />\r\n            <Route path='/config/new/option' component={NewOption}/>\r\n            <Route path=\"/config/store\" component={StoreSetting} />\r\n            <Route path=\"/config/menu/new\" component={NewMenu}/>\r\n            <Route path=\"/config/menu\" component={MenuSetting} />\r\n            <Route path=\"/config/advanced/:id\" component={Advanced} />\r\n            <Route path=\"/privacy\" component={Privacy}/>\r\n            <Route path=\"/COC\" component={CodeOfConduct} />\r\n            <Route path=\"/signup\" component={Signup} />\r\n            <Route path=\"/feedback\" component={Feedback}/>\r\n            <Route path=\"/\" component={Homepage} />\r\n        </Switch>\r\n        <Footer />\r\n      </HashRouter>\r\n\r\n  )\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n//import * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport reportWebVitals from './reportWebVitals';\r\n//import {register} from \"./serviceWorkerRegistration\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\n//serviceWorkerRegistration.register({\r\n//     onUpdate: registration =>{\r\n//         alert('New version discovered! Ready to update?')\r\n//         if(registration && registration.waiting){\r\n//             registration.waiting.postMessage({type: 'SKIP_WAITING'})\r\n//         }\r\n//         window.location.reload()\r\n//     }\r\n// });\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}